ÅÉ
JC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Services\EmailService.cs
	namespace 	

_6Memorize
 
. 
Services 
; 
public

 
class

 
EmailService

 
{ 
private 
readonly  
IHttpContextAccessor ) 
_httpContextAccessor* >
;> ?
private 
readonly  
ApplicationDbContext )

_dbContext* 4
;4 5
private 
readonly 
string 
	_smtpHost %
;% &
private 
readonly 
int 
	_smtpPort "
;" #
private 
readonly 
string 
_smtpUsername )
;) *
private 
readonly 
string 
_smtpPassword )
;) *
private 
readonly 
bool 

_enableSsl $
;$ %
private 
readonly 
string 
_senderEmail (
;( )
private 
readonly 
string 
_senderName '
;' (
public 

EmailService 
(  
IHttpContextAccessor ,
httpContextAccessor- @
,@ A 
ApplicationDbContextB V
	dbContextW `
,` a
IConfigurationb p
configurationq ~
)~ 
{  
_httpContextAccessor 
= 
httpContextAccessor 2
;2 3

_dbContext 
= 
	dbContext 
; 
	_smtpHost 
= 
configuration !
[! "
$str" -
]- .
??/ 1
throw2 7
new8 ;%
InvalidOperationException< U
(U V
$strV z
)z {
;{ |
	_smtpPort 
= 
int 
. 
Parse 
( 
configuration +
[+ ,
$str, 7
]7 8
??9 ;
$str< A
)A B
;B C
_smtpUsername 
= 
configuration %
[% &
$str& 5
]5 6
??7 9
throw: ?
new@ C%
InvalidOperationExceptionD ]
(] ^
$str	^ Ü
)
Ü á
;
á à
_smtpPassword 
= 
configuration %
[% &
$str& 5
]5 6
??7 9
throw: ?
new@ C%
InvalidOperationExceptionD ]
(] ^
$str	^ Ü
)
Ü á
;
á à

_enableSsl   
=   
configuration   "
.  " #
GetValue  # +
<  + ,
bool  , 0
>  0 1
(  1 2
$str  2 B
,  B C
true  D H
)  H I
;  I J
_senderEmail!! 
=!! 
configuration!! $
[!!$ %
$str!!% 7
]!!7 8
??!!9 ;
$str!!< S
;!!S T
_senderName"" 
="" 
configuration"" #
[""# $
$str""$ 5
]""5 6
??""7 9
$str"": E
;""E F
}## 
public%% 

string%% 

GetBaseUrl%% 
(%% 
)%% 
{&& 
var'' 
request'' 
=''  
_httpContextAccessor'' *
.''* +
HttpContext''+ 6
?''6 7
.''7 8
Request''8 ?
;''? @
if(( 

((( 
request(( 
==(( 
null(( 
)(( 
return(( #
$str(($ ;
;((; <
return)) 
$")) 
{)) 
request)) 
.)) 
Scheme))  
}))  !
$str))! $
{))$ %
request))% ,
.)), -
Host))- 1
}))1 2
"))2 3
;))3 4
}** 
public,, 

async,, 
Task,, 
<,, 
bool,, 
>,,  
RequestPasswordReset,, 0
(,,0 1
string,,1 7
email,,8 =
),,= >
{-- 
var.. 
user.. 
=.. 
await.. 

_dbContext.. #
...# $
Users..$ )
...) *
FirstOrDefaultAsync..* =
(..= >
u..> ?
=>..@ B
u..C D
...D E
Email..E J
==..K M
email..N S
)..S T
;..T U
if// 

(// 
user// 
==// 
null// 
)// 
return//  
false//! &
;//& '
var22 
token22 
=22 
GenerateToken22 !
(22! "
)22" #
;22# $
var33 

resetToken33 
=33 
new33 
PasswordResetToken33 /
{44 	
Token55 
=55 
token55 
,55 
UserId66 
=66 
user66 
.66 
UserID66  
,66  !

ExpiryDate77 
=77 
DateTime77 !
.77! "
UtcNow77" (
.77( )
AddHours77) 1
(771 2
$num772 3
)773 4
}88 	
;88	 


_dbContext:: 
.:: 
PasswordResetTokens:: &
.::& '
Add::' *
(::* +

resetToken::+ 5
)::5 6
;::6 7
await;; 

_dbContext;; 
.;; 
SaveChangesAsync;; )
(;;) *
);;* +
;;;+ ,
return>> 
await>> 
SendResetEmail>> #
(>># $
user>>$ (
.>>( )
Email>>) .
,>>. /
token>>0 5
)>>5 6
;>>6 7
}?? 
publicAA 

asyncAA 
TaskAA 
<AA 
boolAA 
>AA !
SendVerificationEmailAA 1
(AA1 2
intAA2 5
userIdAA6 <
)AA< =
{BB 
varCC 
userCC 
=CC 
awaitCC 

_dbContextCC #
.CC# $
UsersCC$ )
.CC) *
	FindAsyncCC* 3
(CC3 4
userIdCC4 :
)CC: ;
;CC; <
ifDD 

(DD 
userDD 
==DD 
nullDD 
)DD 
returnDD  
falseDD! &
;DD& '
ifGG 

(GG 
userGG 
.GG 
IsEmailConfirmedGG !
)GG! "
returnGG# )
trueGG* .
;GG. /
varJJ 
existingTokensJJ 
=JJ 
awaitJJ "

_dbContextJJ# -
.JJ- .#
EmailVerificationTokensJJ. E
.KK 
WhereKK 
(KK 
tKK 
=>KK 
tKK 
.KK 
UserIdKK  
==KK! #
userIdKK$ *
)KK* +
.LL 
ToListAsyncLL 
(LL 
)LL 
;LL 
ifNN 

(NN 
existingTokensNN 
.NN 
AnyNN 
(NN 
)NN  
)NN  !
{OO 	

_dbContextPP 
.PP #
EmailVerificationTokensPP .
.PP. /
RemoveRangePP/ :
(PP: ;
existingTokensPP; I
)PPI J
;PPJ K
awaitQQ 

_dbContextQQ 
.QQ 
SaveChangesAsyncQQ -
(QQ- .
)QQ. /
;QQ/ 0
}RR 	
varUU 
tokenUU 
=UU 
GenerateTokenUU !
(UU! "
)UU" #
;UU# $
varVV 
verificationTokenVV 
=VV 
newVV  #"
EmailVerificationTokenVV$ :
{WW 	
TokenXX 
=XX 
tokenXX 
,XX 
UserIdYY 
=YY 
userIdYY 
,YY 

ExpiryDateZZ 
=ZZ 
DateTimeZZ !
.ZZ! "
UtcNowZZ" (
.ZZ( )
AddDaysZZ) 0
(ZZ0 1
$numZZ1 2
)ZZ2 3
}[[ 	
;[[	 


_dbContext]] 
.]] #
EmailVerificationTokens]] *
.]]* +
Add]]+ .
(]]. /
verificationToken]]/ @
)]]@ A
;]]A B
await^^ 

_dbContext^^ 
.^^ 
SaveChangesAsync^^ )
(^^) *
)^^* +
;^^+ ,
returnaa 
awaitaa !
SendVerificationEmailaa *
(aa* +
useraa+ /
.aa/ 0
Emailaa0 5
,aa5 6
tokenaa7 <
)aa< =
;aa= >
}bb 
publicdd 

asyncdd 
Taskdd 
<dd 
booldd 
>dd 
VerifyEmaildd '
(dd' (
stringdd( .
tokendd/ 4
)dd4 5
{ee 
varff 
verificationTokenff 
=ff 
awaitff  %

_dbContextff& 0
.ff0 1#
EmailVerificationTokensff1 H
.gg 
Includegg 
(gg 
tgg 
=>gg 
tgg 
.gg 
Usergg  
)gg  !
.hh 
FirstOrDefaultAsynchh  
(hh  !
thh! "
=>hh# %
thh& '
.hh' (
Tokenhh( -
==hh. 0
tokenhh1 6
)hh6 7
;hh7 8
ifjj 

(jj 
verificationTokenjj 
==jj  
nulljj! %
)jj% &
returnjj' -
falsejj. 3
;jj3 4
ifkk 

(kk 
verificationTokenkk 
.kk 

ExpiryDatekk (
<kk) *
DateTimekk+ 3
.kk3 4
UtcNowkk4 :
)kk: ;
returnkk< B
falsekkC H
;kkH I
verificationTokenmm 
.mm 
Usermm 
.mm 
IsEmailConfirmedmm /
=mm0 1
truemm2 6
;mm6 7

_dbContextnn 
.nn #
EmailVerificationTokensnn *
.nn* +
Removenn+ 1
(nn1 2
verificationTokennn2 C
)nnC D
;nnD E
awaitoo 

_dbContextoo 
.oo 
SaveChangesAsyncoo )
(oo) *
)oo* +
;oo+ ,
returnqq 
trueqq 
;qq 
}rr 
privatett 
stringtt 
GenerateTokentt  
(tt  !
)tt! "
{uu 
usingvv 
(vv 
varvv 
rngvv 
=vv !
RandomNumberGeneratorvv .
.vv. /
Createvv/ 5
(vv5 6
)vv6 7
)vv7 8
{ww 	
varxx 
bytesxx 
=xx 
newxx 
bytexx  
[xx  !
$numxx! #
]xx# $
;xx$ %
rngyy 
.yy 
GetBytesyy 
(yy 
bytesyy 
)yy 
;yy  
returnzz 
Convertzz 
.zz 
ToBase64Stringzz )
(zz) *
byteszz* /
)zz/ 0
.zz0 1
Replacezz1 8
(zz8 9
$strzz9 <
,zz< =
$strzz> A
)zzA B
.zzB C
ReplacezzC J
(zzJ K
$strzzK N
,zzN O
$strzzP S
)zzS T
;zzT U
}{{ 	
}|| 
private~~ 
async~~ 
Task~~ 
<~~ 
bool~~ 
>~~ 
SendResetEmail~~ +
(~~+ ,
string~~, 2
email~~3 8
,~~8 9
string~~: @
token~~A F
)~~F G
{ 
try
ÄÄ 
{
ÅÅ 	
var
ÇÇ 
baseUrl
ÇÇ 
=
ÇÇ 

GetBaseUrl
ÇÇ $
(
ÇÇ$ %
)
ÇÇ% &
;
ÇÇ& '
var
ÉÉ 
	resetLink
ÉÉ 
=
ÉÉ 
$"
ÉÉ 
{
ÉÉ 
baseUrl
ÉÉ &
}
ÉÉ& '
$str
ÉÉ' D
{
ÉÉD E
token
ÉÉE J
}
ÉÉJ K
"
ÉÉK L
;
ÉÉL M
var
ÑÑ 
mail
ÑÑ 
=
ÑÑ 
new
ÑÑ 
MailMessage
ÑÑ &
(
ÑÑ& '
)
ÑÑ' (
;
ÑÑ( )
mail
ÖÖ 
.
ÖÖ 
From
ÖÖ 
=
ÖÖ 
new
ÖÖ 
MailAddress
ÖÖ '
(
ÖÖ' (
_senderEmail
ÖÖ( 4
,
ÖÖ4 5
_senderName
ÖÖ6 A
)
ÖÖA B
;
ÖÖB C
mail
ÜÜ 
.
ÜÜ 
To
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
email
ÜÜ 
)
ÜÜ 
;
ÜÜ 
mail
áá 
.
áá 
Subject
áá 
=
áá 
$str
áá 3
;
áá3 4
mail
àà 
.
àà 
Body
àà 
=
àà 
$@"
àà 
$str
àè %
{
èè% &
	resetLink
èè& /
}
èè/ 0
$str
èó0 
"
óó 
;
óó 
mail
òò 
.
òò 

IsBodyHtml
òò 
=
òò 
true
òò "
;
òò" #
using
öö 
var
öö 

smtpClient
öö  
=
öö! "
new
öö# &

SmtpClient
öö' 1
(
öö1 2
	_smtpHost
öö2 ;
,
öö; <
	_smtpPort
öö= F
)
ööF G
{
õõ 
Credentials
úú 
=
úú 
new
úú !
NetworkCredential
úú" 3
(
úú3 4
_smtpUsername
úú4 A
,
úúA B
_smtpPassword
úúC P
)
úúP Q
,
úúQ R
	EnableSsl
ùù 
=
ùù 

_enableSsl
ùù &
}
ûû 
;
ûû 
await
†† 

smtpClient
†† 
.
†† 
SendMailAsync
†† *
(
††* +
mail
††+ /
)
††/ 0
;
††0 1
return
°° 
true
°° 
;
°° 
}
¢¢ 	
catch
££ 
{
§§ 	
return
•• 
false
•• 
;
•• 
}
¶¶ 	
}
ßß 
private
©© 
async
©© 
Task
©© 
<
©© 
bool
©© 
>
©© #
SendVerificationEmail
©© 2
(
©©2 3
string
©©3 9
email
©©: ?
,
©©? @
string
©©A G
token
©©H M
)
©©M N
{
™™ 
try
´´ 
{
¨¨ 	
var
≠≠ 
baseUrl
≠≠ 
=
≠≠ 

GetBaseUrl
≠≠ $
(
≠≠$ %
)
≠≠% &
;
≠≠& '
var
ÆÆ 
verificationLink
ÆÆ  
=
ÆÆ! "
$"
ÆÆ# %
{
ÆÆ% &
baseUrl
ÆÆ& -
}
ÆÆ- .
$str
ÆÆ. I
{
ÆÆI J
token
ÆÆJ O
}
ÆÆO P
"
ÆÆP Q
;
ÆÆQ R
var
ØØ 
mail
ØØ 
=
ØØ 
new
ØØ 
MailMessage
ØØ &
(
ØØ& '
)
ØØ' (
;
ØØ( )
mail
∞∞ 
.
∞∞ 
From
∞∞ 
=
∞∞ 
new
∞∞ 
MailAddress
∞∞ '
(
∞∞' (
_senderEmail
∞∞( 4
,
∞∞4 5
_senderName
∞∞6 A
)
∞∞A B
;
∞∞B C
mail
±± 
.
±± 
To
±± 
.
±± 
Add
±± 
(
±± 
email
±± 
)
±± 
;
±± 
mail
≤≤ 
.
≤≤ 
Subject
≤≤ 
=
≤≤ 
$str
≤≤ 6
;
≤≤6 7
mail
≥≥ 
.
≥≥ 
Body
≥≥ 
=
≥≥ 
$@"
≥≥ 
$str
≥∫ %
{
∫∫% &
verificationLink
∫∫& 6
}
∫∫6 7
$str
∫¬7 
"
¬¬ 
;
¬¬ 
mail
√√ 
.
√√ 

IsBodyHtml
√√ 
=
√√ 
true
√√ "
;
√√" #
using
≈≈ 
var
≈≈ 

smtpClient
≈≈  
=
≈≈! "
new
≈≈# &

SmtpClient
≈≈' 1
(
≈≈1 2
	_smtpHost
≈≈2 ;
,
≈≈; <
	_smtpPort
≈≈= F
)
≈≈F G
{
∆∆ 
Credentials
«« 
=
«« 
new
«« !
NetworkCredential
««" 3
(
««3 4
_smtpUsername
««4 A
,
««A B
_smtpPassword
««C P
)
««P Q
,
««Q R
	EnableSsl
»» 
=
»» 

_enableSsl
»» &
}
…… 
;
…… 
await
ÀÀ 

smtpClient
ÀÀ 
.
ÀÀ 
SendMailAsync
ÀÀ *
(
ÀÀ* +
mail
ÀÀ+ /
)
ÀÀ/ 0
;
ÀÀ0 1
return
ÃÃ 
true
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
catch
ŒŒ 
{
œœ 	
return
–– 
false
–– 
;
–– 
}
—— 	
}
““ 
}”” †*
<C:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. #
AddControllersWithViews (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddDbContext 
<  
ApplicationDbContext 2
>2 3
(3 4
options4 ;
=>< >
options 
. 
	UseNpgsql 
( 
builder 
. 
Configuration +
.+ ,
GetConnectionString, ?
(? @
$str@ S
)S T
)T U
)U V
;V W
builder 
. 
Services 
. "
AddHttpContextAccessor '
(' (
)( )
;) *
builder 
. 
Services 
. 
	AddScoped 
< 
EmailService '
>' (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddAuthentication "
(" #
$str# ,
), -
. 
	AddCookie 
( 
options 
=> 
{ 
options 
. 
	LoginPath 
= 
$str ,
;, -
options 
. 

LogoutPath 
= 
$str .
;. /
options 
. 
AccessDeniedPath  
=! "
$str# :
;: ;
} 
) 
; 
builder 
. 
Services 
. 

AddSession 
( 
options #
=>$ &
{ 
options 
. 
IdleTimeout 
= 
TimeSpan "
." #
FromMinutes# .
(. /
$num/ 1
)1 2
;2 3
options 
. 
Cookie 
. 
HttpOnly 
= 
true "
;" #
options   
.   
Cookie   
.   
IsEssential   
=    
true  ! %
;  % &
}!! 
)!! 
;!! 
var## 
app## 
=## 	
builder##
 
.## 
Build## 
(## 
)## 
;## 
using&& 
(&& 
var&& 

scope&& 
=&& 
app&& 
.&& 
Services&& 
.&&  
CreateScope&&  +
(&&+ ,
)&&, -
)&&- .
{'' 
var(( 
services(( 
=(( 
scope(( 
.(( 
ServiceProvider(( (
;((( )
try)) 
{** 
var++ 
context++ 
=++ 
services++ 
.++ 
GetRequiredService++ 1
<++1 2 
ApplicationDbContext++2 F
>++F G
(++G H
)++H I
;++I J
DbInitializer,, 
.,, 

Initialize,,  
(,,  !
context,,! (
),,( )
;,,) *
}-- 
catch.. 	
(..
 
	Exception.. 
ex.. 
).. 
{// 
var00 
logger00 
=00 
services00 
.00 
GetRequiredService00 0
<000 1
ILogger001 8
<008 9
Program009 @
>00@ A
>00A B
(00B C
)00C D
;00D E
logger11 
.11 
LogError11 
(11 
ex11 
,11 
$str11 K
)11K L
;11L M
}22 
}33 
if66 
(66 
!66 
app66 
.66 	
Environment66	 
.66 
IsDevelopment66 "
(66" #
)66# $
)66$ %
{77 
app88 
.88 
UseExceptionHandler88 
(88 
$str88 )
)88) *
;88* +
app:: 
.:: 
UseHsts:: 
(:: 
):: 
;:: 
};; 
app== 
.== 
UseHttpsRedirection== 
(== 
)== 
;== 
app>> 
.>> 
UseStaticFiles>> 
(>> 
)>> 
;>> 
app@@ 
.@@ 

UseRouting@@ 
(@@ 
)@@ 
;@@ 
appBB 
.BB 
UseAuthenticationBB 
(BB 
)BB 
;BB 
appCC 
.CC 
UseAuthorizationCC 
(CC 
)CC 
;CC 
appEE 
.EE 

UseSessionEE 
(EE 
)EE 
;EE 
appGG 
.GG 
MapControllerRouteGG 
(GG 
nameHH 
:HH 	
$strHH
 
,HH 
patternII 
:II 
$strII 5
)II5 6
;II6 7
appKK 
.KK 
RunKK 
(KK 
)KK 	
;KK	 
Á	
FC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\WordSample.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 

WordSample 
{ 
[ 	
Key	 
] 
public 
int 
WordSamplesID  
{! "
get# &
;& '
set( +
;+ ,
}- .
public

 
int

 
WordID

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
Sample 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
string- 3
.3 4
Empty4 9
;9 :
public 
virtual 
Word 
Word  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
} 
} ∞
FC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\WordPuzzle.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 

WordPuzzle 
{ 
[ 	
Key	 
] 
public 
int 
ID 
{ 
get 
; 
set  
;  !
}" #
public

 
int

 
UserID

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
WordID 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
UtcNow; A
;A B
public 
bool 
IsCompleted 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
Attempts 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
GuessedLetters %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
User 
User  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
public 
virtual 
Word 
Word  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
} 
}  
KC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\WordleViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
WordleViewModel  
{ 
public 
Word 
Word 
{ 
get 
; 
set  #
;# $
}% &
public 
int 

WordLength 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} „
JC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\WordChainStory.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
WordChainStory 
{ 
[ 	
Key	 
] 
public 
int 
ID 
{ 
get 
; 
set  
;  !
}" #
public

 
int

 
UserID

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
string 
	WordChain 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
string0 6
.6 7
Empty7 <
;< =
public 
string 
GeneratedStory $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
string5 ;
.; <
Empty< A
;A B
public 
string 
? 
	ImagePath  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
UtcNow; A
;A B
public 
virtual 
User 
User  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
} 
} ¢
@C:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\Word.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
Word 
{ 
[ 	
Key	 
] 
public 
int 
WordID 
{ 
get 
;  
set! $
;$ %
}& '
[

 	
Required

	 
]

 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
EngWordName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
TurWordName !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
[ 	
Required	 
] 
public 
string 
Category 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 8
;8 9
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
? 
PicturePath "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
? 
	AudioPath  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
UtcNow; A
;A B
public 
virtual 
ICollection "
<" #

WordSample# -
>- .
WordSamples/ :
{; <
get= @
;@ A
setB E
;E F
}G H
=I J
newK N
ListO S
<S T

WordSampleT ^
>^ _
(_ `
)` a
;a b
public 
virtual 
ICollection "
<" #
UserWordProgress# 3
>3 4
UserWordProgresses5 G
{H I
getJ M
;M N
setO R
;R S
}T U
=V W
newX [
List\ `
<` a
UserWordProgressa q
>q r
(r s
)s t
;t u
}   
}!! Ç
LC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\UserWordProgress.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
UserWordProgress !
{ 
[ 	
Key	 
] 
public 
int 
ID 
{ 
get 
; 
set  
;  !
}" #
public

 
int

 
UserID

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
public 
int 
WordID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
CurrentStep 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
NextDueDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
bool 
IsCompleted 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
LastAttemptDate '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
bool 
LastAttemptSuccess &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
virtual 
User 
User  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
public 
virtual 
Word 
Word  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
null1 5
!5 6
;6 7
} 
} ∫
HC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\UserSettings.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
UserSettings 
{ 
[ 	
Key	 
] 
public 
int 
ID 
{ 
get 
; 
set  
;  !
}" #
public

 
int

 
UserID

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
[ 	
Required	 
] 
[ 	
Range	 
( 
$num 
, 
$num 
, 
ErrorMessage "
=# $
$str% N
)N O
]O P
public 
int 
WordsPerQuiz 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
$num0 2
;2 3
public 
bool 
	ShowAudio 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
true. 2
;2 3
public 
bool 

ShowImages 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
true/ 3
;3 4
public 
virtual 
User 
? 
User !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
null2 6
;6 7
} 
} ‡
@C:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\User.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
User 
{ 
[ 	
Key	 
] 
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
[

 	
Required

	 
]

 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
string/ 5
.5 6
Empty6 ;
;; <
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
[ 	
StringLength	 
( 
$num 
) 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
DateTime 
	CreatedAt !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
DateTime2 :
.: ;
UtcNow; A
;A B
public 
DateTime 
? 
LastLoginAt $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
bool 
IsEmailConfirmed $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
bool 
IsActive 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
true- 1
;1 2
public 
virtual 
ICollection "
<" #
UserWordProgress# 3
>3 4
UserWordProgresses5 G
{H I
getJ M
;M N
setO R
;R S
}T U
=V W
newX [
List\ `
<` a
UserWordProgressa q
>q r
(r s
)s t
;t u
public 
virtual 
ICollection "
<" #

WordPuzzle# -
>- .
WordPuzzles/ :
{; <
get= @
;@ A
setB E
;E F
}G H
=I J
newK N
ListO S
<S T

WordPuzzleT ^
>^ _
(_ `
)` a
;a b
public   
virtual   
ICollection   "
<  " #
WordChainStory  # 1
>  1 2
WordChainStories  3 C
{  D E
get  F I
;  I J
set  K N
;  N O
}  P Q
=  R S
new  T W
List  X \
<  \ ]
WordChainStory  ] k
>  k l
(  l m
)  m n
;  n o
}!! 
}"" Â
MC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\ProgressViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
ProgressViewModel "
{ 
public 
List 
< 
UserWordProgress $
>$ %
UserWordProgresses& 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
=G H
newI L
(L M
)M N
;N O
public 
int 

TotalWords 
{ 
get  #
;# $
set% (
;( )
}* +
}		 
}

 º	
SC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\ProgressReportViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
; 
public 
class #
ProgressReportViewModel $
{ 
public 

IEnumerable 
< 
UserWordProgress '
>' (
UserProgress) 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 

int 

TotalWords 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
CompletedWords 
{ 
get  #
;# $
set% (
;( )
}* +
public 

double 
CompletionRate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 

List		 
<		 %
CategoryProgressViewModel		 )
>		) *
CategoryProgress		+ ;
{		< =
get		> A
;		A B
set		C F
;		F G
}		H I
}

 ﬂ
LC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\ProfileViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
. 

ViewModels &
{ 
public 

class 
ProfileViewModel !
{ 
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public		 
string		 
CurrentPassword		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public

 
string

 
NewPassword

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
string 
ConfirmNewPassword (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
} Ò
NC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\PasswordResetToken.cs
	namespace 	

_6Memorize
 
. 
Models 
; 
public 
class 
PasswordResetToken 
{ 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
public 

string 
Token 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
UserId 
{ 
get 
; 
set  
;  !
}" #
public 

DateTime 

ExpiryDate 
{  
get! $
;$ %
set& )
;) *
}+ ,
}		 •
JC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\ErrorViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
ErrorViewModel 
{ 
public 
string 
? 
	RequestId  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
} 
}		 ≥	
RC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\EmailVerificationToken.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class "
EmailVerificationToken '
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Token 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
User 
User 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public		 
DateTime		 

ExpiryDate		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
}

 
} Ù
MC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Models\AnalysisViewModel.cs
	namespace 	

_6Memorize
 
. 
Models 
{ 
public 

class 
AnalysisViewModel "
{ 
public 
List 
< %
CategoryProgressViewModel -
>- .
CategoryProgress/ ?
{@ A
getB E
;E F
setG J
;J K
}L M
=N O
newP S
(S T
)T U
;U V
public 
int 

TotalWords 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 

KnownWords 
{ 
get  #
;# $
set% (
;( )
}* +
public 
double 
OverallSuccessRate (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public		 
string		 
?		 
UserName		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
}

 
public 

class %
CategoryProgressViewModel *
{ 
public 
string 
Category 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
int 

TotalWords 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 

KnownWords 
{ 
get  #
;# $
set% (
;( )
}* +
public 
double 
SuccessRate !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} Èè
_C:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Migrations\20250518144042_InitialMigration.cs
	namespace 	

_6Memorize
 
. 

Migrations 
{ 
public

 

partial

 
class

 
InitialMigration

 )
:

* +
	Migration

, 5
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str +
,+ ,
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
Token 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
UserId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q

ExpiryDate 
=  
table! &
.& '
Column' -
<- .
DateTime. 6
>6 7
(7 8
type8 <
:< =
$str> X
,X Y
nullableZ b
:b c
falsed i
)i j
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% =
,= >
x? @
=>A C
xD E
.E F
IdF H
)H I
;I J
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns   
:   
table   
=>   !
new  " %
{!! 
UserID"" 
="" 
table"" "
.""" #
Column""# )
<"") *
int""* -
>""- .
("". /
type""/ 3
:""3 4
$str""5 >
,""> ?
nullable""@ H
:""H I
false""J O
)""O P
.## 

Annotation## #
(### $
$str##$ D
,##D E)
NpgsqlValueGenerationStrategy##F c
.##c d#
IdentityByDefaultColumn##d {
)##{ |
,##| }
UserName$$ 
=$$ 
table$$ $
.$$$ %
Column$$% +
<$$+ ,
string$$, 2
>$$2 3
($$3 4
type$$4 8
:$$8 9
$str$$: Q
,$$Q R
	maxLength$$S \
:$$\ ]
$num$$^ `
,$$` a
nullable$$b j
:$$j k
false$$l q
)$$q r
,$$r s
Password%% 
=%% 
table%% $
.%%$ %
Column%%% +
<%%+ ,
string%%, 2
>%%2 3
(%%3 4
type%%4 8
:%%8 9
$str%%: R
,%%R S
	maxLength%%T ]
:%%] ^
$num%%_ b
,%%b c
nullable%%d l
:%%l m
false%%n s
)%%s t
,%%t u
Email&& 
=&& 
table&& !
.&&! "
Column&&" (
<&&( )
string&&) /
>&&/ 0
(&&0 1
type&&1 5
:&&5 6
$str&&7 O
,&&O P
	maxLength&&Q Z
:&&Z [
$num&&\ _
,&&_ `
nullable&&a i
:&&i j
false&&k p
)&&p q
,&&q r
	CreatedAt'' 
='' 
table''  %
.''% &
Column''& ,
<'', -
DateTime''- 5
>''5 6
(''6 7
type''7 ;
:''; <
$str''= W
,''W X
nullable''Y a
:''a b
false''c h
)''h i
,''i j
LastLoginAt(( 
=((  !
table((" '
.((' (
Column((( .
<((. /
DateTime((/ 7
>((7 8
(((8 9
type((9 =
:((= >
$str((? Y
,((Y Z
nullable(([ c
:((c d
true((e i
)((i j
,((j k
IsEmailConfirmed)) $
=))% &
table))' ,
.)), -
Column))- 3
<))3 4
bool))4 8
>))8 9
())9 :
type)): >
:))> ?
$str))@ I
,))I J
nullable))K S
:))S T
false))U Z
)))Z [
,))[ \
IsActive** 
=** 
table** $
.**$ %
Column**% +
<**+ ,
bool**, 0
>**0 1
(**1 2
type**2 6
:**6 7
$str**8 A
,**A B
nullable**C K
:**K L
false**M R
)**R S
}++ 
,++ 
constraints,, 
:,, 
table,, "
=>,,# %
{-- 
table.. 
... 

PrimaryKey.. $
(..$ %
$str..% /
,../ 0
x..1 2
=>..3 5
x..6 7
...7 8
UserID..8 >
)..> ?
;..? @
}// 
)// 
;// 
migrationBuilder11 
.11 
CreateTable11 (
(11( )
name22 
:22 
$str22 
,22 
columns33 
:33 
table33 
=>33 !
new33" %
{44 
WordID55 
=55 
table55 "
.55" #
Column55# )
<55) *
int55* -
>55- .
(55. /
type55/ 3
:553 4
$str555 >
,55> ?
nullable55@ H
:55H I
false55J O
)55O P
.66 

Annotation66 #
(66# $
$str66$ D
,66D E)
NpgsqlValueGenerationStrategy66F c
.66c d#
IdentityByDefaultColumn66d {
)66{ |
,66| }
EngWordName77 
=77  !
table77" '
.77' (
Column77( .
<77. /
string77/ 5
>775 6
(776 7
type777 ;
:77; <
$str77= U
,77U V
	maxLength77W `
:77` a
$num77b e
,77e f
nullable77g o
:77o p
false77q v
)77v w
,77w x
TurWordName88 
=88  !
table88" '
.88' (
Column88( .
<88. /
string88/ 5
>885 6
(886 7
type887 ;
:88; <
$str88= U
,88U V
	maxLength88W `
:88` a
$num88b e
,88e f
nullable88g o
:88o p
false88q v
)88v w
,88w x
Category99 
=99 
table99 $
.99$ %
Column99% +
<99+ ,
string99, 2
>992 3
(993 4
type994 8
:998 9
$str99: @
,99@ A
nullable99B J
:99J K
false99L Q
)99Q R
,99R S
PicturePath:: 
=::  !
table::" '
.::' (
Column::( .
<::. /
string::/ 5
>::5 6
(::6 7
type::7 ;
:::; <
$str::= U
,::U V
	maxLength::W `
:::` a
$num::b e
,::e f
nullable::g o
:::o p
true::q u
)::u v
,::v w
	AudioPath;; 
=;; 
table;;  %
.;;% &
Column;;& ,
<;;, -
string;;- 3
>;;3 4
(;;4 5
type;;5 9
:;;9 :
$str;;; S
,;;S T
	maxLength;;U ^
:;;^ _
$num;;` c
,;;c d
nullable;;e m
:;;m n
true;;o s
);;s t
,;;t u
	CreatedAt<< 
=<< 
table<<  %
.<<% &
Column<<& ,
<<<, -
DateTime<<- 5
><<5 6
(<<6 7
type<<7 ;
:<<; <
$str<<= W
,<<W X
nullable<<Y a
:<<a b
false<<c h
)<<h i
}== 
,== 
constraints>> 
:>> 
table>> "
=>>># %
{?? 
table@@ 
.@@ 

PrimaryKey@@ $
(@@$ %
$str@@% /
,@@/ 0
x@@1 2
=>@@3 5
x@@6 7
.@@7 8
WordID@@8 >
)@@> ?
;@@? @
}AA 
)AA 
;AA 
migrationBuilderCC 
.CC 
CreateTableCC (
(CC( )
nameDD 
:DD 
$strDD /
,DD/ 0
columnsEE 
:EE 
tableEE 
=>EE !
newEE" %
{FF 
IdGG 
=GG 
tableGG 
.GG 
ColumnGG %
<GG% &
intGG& )
>GG) *
(GG* +
typeGG+ /
:GG/ 0
$strGG1 :
,GG: ;
nullableGG< D
:GGD E
falseGGF K
)GGK L
.HH 

AnnotationHH #
(HH# $
$strHH$ D
,HHD E)
NpgsqlValueGenerationStrategyHHF c
.HHc d#
IdentityByDefaultColumnHHd {
)HH{ |
,HH| }
TokenII 
=II 
tableII !
.II! "
ColumnII" (
<II( )
stringII) /
>II/ 0
(II0 1
typeII1 5
:II5 6
$strII7 =
,II= >
nullableII? G
:IIG H
falseIII N
)IIN O
,IIO P
UserIdJJ 
=JJ 
tableJJ "
.JJ" #
ColumnJJ# )
<JJ) *
intJJ* -
>JJ- .
(JJ. /
typeJJ/ 3
:JJ3 4
$strJJ5 >
,JJ> ?
nullableJJ@ H
:JJH I
falseJJJ O
)JJO P
,JJP Q

ExpiryDateKK 
=KK  
tableKK! &
.KK& '
ColumnKK' -
<KK- .
DateTimeKK. 6
>KK6 7
(KK7 8
typeKK8 <
:KK< =
$strKK> X
,KKX Y
nullableKKZ b
:KKb c
falseKKd i
)KKi j
}LL 
,LL 
constraintsMM 
:MM 
tableMM "
=>MM# %
{NN 
tableOO 
.OO 

PrimaryKeyOO $
(OO$ %
$strOO% A
,OOA B
xOOC D
=>OOE G
xOOH I
.OOI J
IdOOJ L
)OOL M
;OOM N
tablePP 
.PP 

ForeignKeyPP $
(PP$ %
nameQQ 
:QQ 
$strQQ G
,QQG H
columnRR 
:RR 
xRR  !
=>RR" $
xRR% &
.RR& '
UserIdRR' -
,RR- .
principalTableSS &
:SS& '
$strSS( /
,SS/ 0
principalColumnTT '
:TT' (
$strTT) 1
,TT1 2
onDeleteUU  
:UU  !
ReferentialActionUU" 3
.UU3 4
CascadeUU4 ;
)UU; <
;UU< =
}VV 
)VV 
;VV 
migrationBuilderXX 
.XX 
CreateTableXX (
(XX( )
nameYY 
:YY 
$strYY $
,YY$ %
columnsZZ 
:ZZ 
tableZZ 
=>ZZ !
newZZ" %
{[[ 
ID\\ 
=\\ 
table\\ 
.\\ 
Column\\ %
<\\% &
int\\& )
>\\) *
(\\* +
type\\+ /
:\\/ 0
$str\\1 :
,\\: ;
nullable\\< D
:\\D E
false\\F K
)\\K L
.]] 

Annotation]] #
(]]# $
$str]]$ D
,]]D E)
NpgsqlValueGenerationStrategy]]F c
.]]c d#
IdentityByDefaultColumn]]d {
)]]{ |
,]]| }
UserID^^ 
=^^ 
table^^ "
.^^" #
Column^^# )
<^^) *
int^^* -
>^^- .
(^^. /
type^^/ 3
:^^3 4
$str^^5 >
,^^> ?
nullable^^@ H
:^^H I
false^^J O
)^^O P
,^^P Q
WordsPerQuiz__  
=__! "
table__# (
.__( )
Column__) /
<__/ 0
int__0 3
>__3 4
(__4 5
type__5 9
:__9 :
$str__; D
,__D E
nullable__F N
:__N O
false__P U
)__U V
,__V W
	ShowAudio`` 
=`` 
table``  %
.``% &
Column``& ,
<``, -
bool``- 1
>``1 2
(``2 3
type``3 7
:``7 8
$str``9 B
,``B C
nullable``D L
:``L M
false``N S
)``S T
,``T U

ShowImagesaa 
=aa  
tableaa! &
.aa& '
Columnaa' -
<aa- .
boolaa. 2
>aa2 3
(aa3 4
typeaa4 8
:aa8 9
$straa: C
,aaC D
nullableaaE M
:aaM N
falseaaO T
)aaT U
}bb 
,bb 
constraintscc 
:cc 
tablecc "
=>cc# %
{dd 
tableee 
.ee 

PrimaryKeyee $
(ee$ %
$stree% 6
,ee6 7
xee8 9
=>ee: <
xee= >
.ee> ?
IDee? A
)eeA B
;eeB C
tableff 
.ff 

ForeignKeyff $
(ff$ %
namegg 
:gg 
$strgg <
,gg< =
columnhh 
:hh 
xhh  !
=>hh" $
xhh% &
.hh& '
UserIDhh' -
,hh- .
principalTableii &
:ii& '
$strii( /
,ii/ 0
principalColumnjj '
:jj' (
$strjj) 1
,jj1 2
onDeletekk  
:kk  !
ReferentialActionkk" 3
.kk3 4
Cascadekk4 ;
)kk; <
;kk< =
}ll 
)ll 
;ll 
migrationBuildernn 
.nn 
CreateTablenn (
(nn( )
nameoo 
:oo 
$stroo (
,oo( )
columnspp 
:pp 
tablepp 
=>pp !
newpp" %
{qq 
IDrr 
=rr 
tablerr 
.rr 
Columnrr %
<rr% &
intrr& )
>rr) *
(rr* +
typerr+ /
:rr/ 0
$strrr1 :
,rr: ;
nullablerr< D
:rrD E
falserrF K
)rrK L
.ss 

Annotationss #
(ss# $
$strss$ D
,ssD E)
NpgsqlValueGenerationStrategyssF c
.ssc d#
IdentityByDefaultColumnssd {
)ss{ |
,ss| }
UserIDtt 
=tt 
tablett "
.tt" #
Columntt# )
<tt) *
inttt* -
>tt- .
(tt. /
typett/ 3
:tt3 4
$strtt5 >
,tt> ?
nullablett@ H
:ttH I
falsettJ O
)ttO P
,ttP Q
	WordChainuu 
=uu 
tableuu  %
.uu% &
Columnuu& ,
<uu, -
stringuu- 3
>uu3 4
(uu4 5
typeuu5 9
:uu9 :
$struu; A
,uuA B
nullableuuC K
:uuK L
falseuuM R
)uuR S
,uuS T
GeneratedStoryvv "
=vv# $
tablevv% *
.vv* +
Columnvv+ 1
<vv1 2
stringvv2 8
>vv8 9
(vv9 :
typevv: >
:vv> ?
$strvv@ F
,vvF G
nullablevvH P
:vvP Q
falsevvR W
)vvW X
,vvX Y
	ImagePathww 
=ww 
tableww  %
.ww% &
Columnww& ,
<ww, -
stringww- 3
>ww3 4
(ww4 5
typeww5 9
:ww9 :
$strww; A
,wwA B
nullablewwC K
:wwK L
truewwM Q
)wwQ R
,wwR S
	CreatedAtxx 
=xx 
tablexx  %
.xx% &
Columnxx& ,
<xx, -
DateTimexx- 5
>xx5 6
(xx6 7
typexx7 ;
:xx; <
$strxx= W
,xxW X
nullablexxY a
:xxa b
falsexxc h
)xxh i
}yy 
,yy 
constraintszz 
:zz 
tablezz "
=>zz# %
{{{ 
table|| 
.|| 

PrimaryKey|| $
(||$ %
$str||% :
,||: ;
x||< =
=>||> @
x||A B
.||B C
ID||C E
)||E F
;||F G
table}} 
.}} 

ForeignKey}} $
(}}$ %
name~~ 
:~~ 
$str~~ @
,~~@ A
column 
: 
x  !
=>" $
x% &
.& '
UserID' -
,- .
principalTable
ÄÄ &
:
ÄÄ& '
$str
ÄÄ( /
,
ÄÄ/ 0
principalColumn
ÅÅ '
:
ÅÅ' (
$str
ÅÅ) 1
,
ÅÅ1 2
onDelete
ÇÇ  
:
ÇÇ  !
ReferentialAction
ÇÇ" 3
.
ÇÇ3 4
Cascade
ÇÇ4 ;
)
ÇÇ; <
;
ÇÇ< =
}
ÉÉ 
)
ÉÉ 
;
ÉÉ 
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateTable
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ *
,
ÜÜ* +
columns
áá 
:
áá 
table
áá 
=>
áá !
new
áá" %
{
àà 
ID
ââ 
=
ââ 
table
ââ 
.
ââ 
Column
ââ %
<
ââ% &
int
ââ& )
>
ââ) *
(
ââ* +
type
ââ+ /
:
ââ/ 0
$str
ââ1 :
,
ââ: ;
nullable
ââ< D
:
ââD E
false
ââF K
)
ââK L
.
ää 

Annotation
ää #
(
ää# $
$str
ää$ D
,
ääD E+
NpgsqlValueGenerationStrategy
ääF c
.
ääc d%
IdentityByDefaultColumn
ääd {
)
ää{ |
,
ää| }
UserID
ãã 
=
ãã 
table
ãã "
.
ãã" #
Column
ãã# )
<
ãã) *
int
ãã* -
>
ãã- .
(
ãã. /
type
ãã/ 3
:
ãã3 4
$str
ãã5 >
,
ãã> ?
nullable
ãã@ H
:
ããH I
false
ããJ O
)
ããO P
,
ããP Q
WordID
åå 
=
åå 
table
åå "
.
åå" #
Column
åå# )
<
åå) *
int
åå* -
>
åå- .
(
åå. /
type
åå/ 3
:
åå3 4
$str
åå5 >
,
åå> ?
nullable
åå@ H
:
ååH I
false
ååJ O
)
ååO P
,
ååP Q
CurrentStep
çç 
=
çç  !
table
çç" '
.
çç' (
Column
çç( .
<
çç. /
int
çç/ 2
>
çç2 3
(
çç3 4
type
çç4 8
:
çç8 9
$str
çç: C
,
ççC D
nullable
ççE M
:
ççM N
false
ççO T
)
ççT U
,
ççU V
NextDueDate
éé 
=
éé  !
table
éé" '
.
éé' (
Column
éé( .
<
éé. /
DateTime
éé/ 7
>
éé7 8
(
éé8 9
type
éé9 =
:
éé= >
$str
éé? Y
,
ééY Z
nullable
éé[ c
:
ééc d
false
éée j
)
ééj k
,
éék l
IsCompleted
èè 
=
èè  !
table
èè" '
.
èè' (
Column
èè( .
<
èè. /
bool
èè/ 3
>
èè3 4
(
èè4 5
type
èè5 9
:
èè9 :
$str
èè; D
,
èèD E
nullable
èèF N
:
èèN O
false
èèP U
)
èèU V
,
èèV W
LastAttemptDate
êê #
=
êê$ %
table
êê& +
.
êê+ ,
Column
êê, 2
<
êê2 3
DateTime
êê3 ;
>
êê; <
(
êê< =
type
êê= A
:
êêA B
$str
êêC ]
,
êê] ^
nullable
êê_ g
:
êêg h
false
êêi n
)
êên o
,
êêo p 
LastAttemptSuccess
ëë &
=
ëë' (
table
ëë) .
.
ëë. /
Column
ëë/ 5
<
ëë5 6
bool
ëë6 :
>
ëë: ;
(
ëë; <
type
ëë< @
:
ëë@ A
$str
ëëB K
,
ëëK L
nullable
ëëM U
:
ëëU V
false
ëëW \
)
ëë\ ]
}
íí 
,
íí 
constraints
ìì 
:
ìì 
table
ìì "
=>
ìì# %
{
îî 
table
ïï 
.
ïï 

PrimaryKey
ïï $
(
ïï$ %
$str
ïï% <
,
ïï< =
x
ïï> ?
=>
ïï@ B
x
ïïC D
.
ïïD E
ID
ïïE G
)
ïïG H
;
ïïH I
table
ññ 
.
ññ 

ForeignKey
ññ $
(
ññ$ %
name
óó 
:
óó 
$str
óó B
,
óóB C
column
òò 
:
òò 
x
òò  !
=>
òò" $
x
òò% &
.
òò& '
UserID
òò' -
,
òò- .
principalTable
ôô &
:
ôô& '
$str
ôô( /
,
ôô/ 0
principalColumn
öö '
:
öö' (
$str
öö) 1
,
öö1 2
onDelete
õõ  
:
õõ  !
ReferentialAction
õõ" 3
.
õõ3 4
Cascade
õõ4 ;
)
õõ; <
;
õõ< =
table
úú 
.
úú 

ForeignKey
úú $
(
úú$ %
name
ùù 
:
ùù 
$str
ùù B
,
ùùB C
column
ûû 
:
ûû 
x
ûû  !
=>
ûû" $
x
ûû% &
.
ûû& '
WordID
ûû' -
,
ûû- .
principalTable
üü &
:
üü& '
$str
üü( /
,
üü/ 0
principalColumn
†† '
:
††' (
$str
††) 1
,
††1 2
onDelete
°°  
:
°°  !
ReferentialAction
°°" 3
.
°°3 4
Cascade
°°4 ;
)
°°; <
;
°°< =
}
¢¢ 
)
¢¢ 
;
¢¢ 
migrationBuilder
§§ 
.
§§ 
CreateTable
§§ (
(
§§( )
name
•• 
:
•• 
$str
•• #
,
••# $
columns
¶¶ 
:
¶¶ 
table
¶¶ 
=>
¶¶ !
new
¶¶" %
{
ßß 
ID
®® 
=
®® 
table
®® 
.
®® 
Column
®® %
<
®®% &
int
®®& )
>
®®) *
(
®®* +
type
®®+ /
:
®®/ 0
$str
®®1 :
,
®®: ;
nullable
®®< D
:
®®D E
false
®®F K
)
®®K L
.
©© 

Annotation
©© #
(
©©# $
$str
©©$ D
,
©©D E+
NpgsqlValueGenerationStrategy
©©F c
.
©©c d%
IdentityByDefaultColumn
©©d {
)
©©{ |
,
©©| }
UserID
™™ 
=
™™ 
table
™™ "
.
™™" #
Column
™™# )
<
™™) *
int
™™* -
>
™™- .
(
™™. /
type
™™/ 3
:
™™3 4
$str
™™5 >
,
™™> ?
nullable
™™@ H
:
™™H I
false
™™J O
)
™™O P
,
™™P Q
WordID
´´ 
=
´´ 
table
´´ "
.
´´" #
Column
´´# )
<
´´) *
int
´´* -
>
´´- .
(
´´. /
type
´´/ 3
:
´´3 4
$str
´´5 >
,
´´> ?
nullable
´´@ H
:
´´H I
false
´´J O
)
´´O P
,
´´P Q
	CreatedAt
¨¨ 
=
¨¨ 
table
¨¨  %
.
¨¨% &
Column
¨¨& ,
<
¨¨, -
DateTime
¨¨- 5
>
¨¨5 6
(
¨¨6 7
type
¨¨7 ;
:
¨¨; <
$str
¨¨= W
,
¨¨W X
nullable
¨¨Y a
:
¨¨a b
false
¨¨c h
)
¨¨h i
,
¨¨i j
IsCompleted
≠≠ 
=
≠≠  !
table
≠≠" '
.
≠≠' (
Column
≠≠( .
<
≠≠. /
bool
≠≠/ 3
>
≠≠3 4
(
≠≠4 5
type
≠≠5 9
:
≠≠9 :
$str
≠≠; D
,
≠≠D E
nullable
≠≠F N
:
≠≠N O
false
≠≠P U
)
≠≠U V
,
≠≠V W
Attempts
ÆÆ 
=
ÆÆ 
table
ÆÆ $
.
ÆÆ$ %
Column
ÆÆ% +
<
ÆÆ+ ,
int
ÆÆ, /
>
ÆÆ/ 0
(
ÆÆ0 1
type
ÆÆ1 5
:
ÆÆ5 6
$str
ÆÆ7 @
,
ÆÆ@ A
nullable
ÆÆB J
:
ÆÆJ K
false
ÆÆL Q
)
ÆÆQ R
,
ÆÆR S
GuessedLetters
ØØ "
=
ØØ# $
table
ØØ% *
.
ØØ* +
Column
ØØ+ 1
<
ØØ1 2
string
ØØ2 8
>
ØØ8 9
(
ØØ9 :
type
ØØ: >
:
ØØ> ?
$str
ØØ@ F
,
ØØF G
nullable
ØØH P
:
ØØP Q
true
ØØR V
)
ØØV W
}
∞∞ 
,
∞∞ 
constraints
±± 
:
±± 
table
±± "
=>
±±# %
{
≤≤ 
table
≥≥ 
.
≥≥ 

PrimaryKey
≥≥ $
(
≥≥$ %
$str
≥≥% 5
,
≥≥5 6
x
≥≥7 8
=>
≥≥9 ;
x
≥≥< =
.
≥≥= >
ID
≥≥> @
)
≥≥@ A
;
≥≥A B
table
¥¥ 
.
¥¥ 

ForeignKey
¥¥ $
(
¥¥$ %
name
µµ 
:
µµ 
$str
µµ ;
,
µµ; <
column
∂∂ 
:
∂∂ 
x
∂∂  !
=>
∂∂" $
x
∂∂% &
.
∂∂& '
UserID
∂∂' -
,
∂∂- .
principalTable
∑∑ &
:
∑∑& '
$str
∑∑( /
,
∑∑/ 0
principalColumn
∏∏ '
:
∏∏' (
$str
∏∏) 1
,
∏∏1 2
onDelete
ππ  
:
ππ  !
ReferentialAction
ππ" 3
.
ππ3 4
Cascade
ππ4 ;
)
ππ; <
;
ππ< =
table
∫∫ 
.
∫∫ 

ForeignKey
∫∫ $
(
∫∫$ %
name
ªª 
:
ªª 
$str
ªª ;
,
ªª; <
column
ºº 
:
ºº 
x
ºº  !
=>
ºº" $
x
ºº% &
.
ºº& '
WordID
ºº' -
,
ºº- .
principalTable
ΩΩ &
:
ΩΩ& '
$str
ΩΩ( /
,
ΩΩ/ 0
principalColumn
ææ '
:
ææ' (
$str
ææ) 1
,
ææ1 2
onDelete
øø  
:
øø  !
ReferentialAction
øø" 3
.
øø3 4
Cascade
øø4 ;
)
øø; <
;
øø< =
}
¿¿ 
)
¿¿ 
;
¿¿ 
migrationBuilder
¬¬ 
.
¬¬ 
CreateTable
¬¬ (
(
¬¬( )
name
√√ 
:
√√ 
$str
√√ #
,
√√# $
columns
ƒƒ 
:
ƒƒ 
table
ƒƒ 
=>
ƒƒ !
new
ƒƒ" %
{
≈≈ 
WordSamplesID
∆∆ !
=
∆∆" #
table
∆∆$ )
.
∆∆) *
Column
∆∆* 0
<
∆∆0 1
int
∆∆1 4
>
∆∆4 5
(
∆∆5 6
type
∆∆6 :
:
∆∆: ;
$str
∆∆< E
,
∆∆E F
nullable
∆∆G O
:
∆∆O P
false
∆∆Q V
)
∆∆V W
.
«« 

Annotation
«« #
(
««# $
$str
««$ D
,
««D E+
NpgsqlValueGenerationStrategy
««F c
.
««c d%
IdentityByDefaultColumn
««d {
)
««{ |
,
««| }
WordID
»» 
=
»» 
table
»» "
.
»»" #
Column
»»# )
<
»») *
int
»»* -
>
»»- .
(
»». /
type
»»/ 3
:
»»3 4
$str
»»5 >
,
»»> ?
nullable
»»@ H
:
»»H I
false
»»J O
)
»»O P
,
»»P Q
Sample
…… 
=
…… 
table
…… "
.
……" #
Column
……# )
<
……) *
string
……* 0
>
……0 1
(
……1 2
type
……2 6
:
……6 7
$str
……8 P
,
……P Q
	maxLength
……R [
:
……[ \
$num
……] `
,
……` a
nullable
……b j
:
……j k
false
……l q
)
……q r
}
   
,
   
constraints
ÀÀ 
:
ÀÀ 
table
ÀÀ "
=>
ÀÀ# %
{
ÃÃ 
table
ÕÕ 
.
ÕÕ 

PrimaryKey
ÕÕ $
(
ÕÕ$ %
$str
ÕÕ% 5
,
ÕÕ5 6
x
ÕÕ7 8
=>
ÕÕ9 ;
x
ÕÕ< =
.
ÕÕ= >
WordSamplesID
ÕÕ> K
)
ÕÕK L
;
ÕÕL M
table
ŒŒ 
.
ŒŒ 

ForeignKey
ŒŒ $
(
ŒŒ$ %
name
œœ 
:
œœ 
$str
œœ ;
,
œœ; <
column
–– 
:
–– 
x
––  !
=>
––" $
x
––% &
.
––& '
WordID
––' -
,
––- .
principalTable
—— &
:
——& '
$str
——( /
,
——/ 0
principalColumn
““ '
:
““' (
$str
““) 1
,
““1 2
onDelete
””  
:
””  !
ReferentialAction
””" 3
.
””3 4
Cascade
””4 ;
)
””; <
;
””< =
}
‘‘ 
)
‘‘ 
;
‘‘ 
migrationBuilder
÷÷ 
.
÷÷ 
CreateIndex
÷÷ (
(
÷÷( )
name
◊◊ 
:
◊◊ 
$str
◊◊ 9
,
◊◊9 :
table
ÿÿ 
:
ÿÿ 
$str
ÿÿ 0
,
ÿÿ0 1
column
ŸŸ 
:
ŸŸ 
$str
ŸŸ  
)
ŸŸ  !
;
ŸŸ! "
migrationBuilder
€€ 
.
€€ 
CreateIndex
€€ (
(
€€( )
name
‹‹ 
:
‹‹ 
$str
‹‹ .
,
‹‹. /
table
›› 
:
›› 
$str
›› %
,
››% &
column
ﬁﬁ 
:
ﬁﬁ 
$str
ﬁﬁ  
,
ﬁﬁ  !
unique
ﬂﬂ 
:
ﬂﬂ 
true
ﬂﬂ 
)
ﬂﬂ 
;
ﬂﬂ 
migrationBuilder
·· 
.
·· 
CreateIndex
·· (
(
··( )
name
‚‚ 
:
‚‚ 
$str
‚‚ 4
,
‚‚4 5
table
„„ 
:
„„ 
$str
„„ +
,
„„+ ,
column
‰‰ 
:
‰‰ 
$str
‰‰  
)
‰‰  !
;
‰‰! "
migrationBuilder
ÊÊ 
.
ÊÊ 
CreateIndex
ÊÊ (
(
ÊÊ( )
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ 4
,
ÁÁ4 5
table
ËË 
:
ËË 
$str
ËË +
,
ËË+ ,
column
ÈÈ 
:
ÈÈ 
$str
ÈÈ  
)
ÈÈ  !
;
ÈÈ! "
migrationBuilder
ÎÎ 
.
ÎÎ 
CreateIndex
ÎÎ (
(
ÎÎ( )
name
ÏÏ 
:
ÏÏ 
$str
ÏÏ 2
,
ÏÏ2 3
table
ÌÌ 
:
ÌÌ 
$str
ÌÌ )
,
ÌÌ) *
column
ÓÓ 
:
ÓÓ 
$str
ÓÓ  
)
ÓÓ  !
;
ÓÓ! "
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ -
,
ÒÒ- .
table
ÚÚ 
:
ÚÚ 
$str
ÚÚ $
,
ÚÚ$ %
column
ÛÛ 
:
ÛÛ 
$str
ÛÛ  
)
ÛÛ  !
;
ÛÛ! "
migrationBuilder
ıı 
.
ıı 
CreateIndex
ıı (
(
ıı( )
name
ˆˆ 
:
ˆˆ 
$str
ˆˆ -
,
ˆˆ- .
table
˜˜ 
:
˜˜ 
$str
˜˜ $
,
˜˜$ %
column
¯¯ 
:
¯¯ 
$str
¯¯  
)
¯¯  !
;
¯¯! "
migrationBuilder
˙˙ 
.
˙˙ 
CreateIndex
˙˙ (
(
˙˙( )
name
˚˚ 
:
˚˚ 
$str
˚˚ -
,
˚˚- .
table
¸¸ 
:
¸¸ 
$str
¸¸ $
,
¸¸$ %
column
˝˝ 
:
˝˝ 
$str
˝˝  
)
˝˝  !
;
˝˝! "
}
˛˛ 	
	protected
ÅÅ 
override
ÅÅ 
void
ÅÅ 
Down
ÅÅ  $
(
ÅÅ$ %
MigrationBuilder
ÅÅ% 5
migrationBuilder
ÅÅ6 F
)
ÅÅF G
{
ÇÇ 	
migrationBuilder
ÉÉ 
.
ÉÉ 
	DropTable
ÉÉ &
(
ÉÉ& '
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ /
)
ÑÑ/ 0
;
ÑÑ0 1
migrationBuilder
ÜÜ 
.
ÜÜ 
	DropTable
ÜÜ &
(
ÜÜ& '
name
áá 
:
áá 
$str
áá +
)
áá+ ,
;
áá, -
migrationBuilder
ââ 
.
ââ 
	DropTable
ââ &
(
ââ& '
name
ää 
:
ää 
$str
ää $
)
ää$ %
;
ää% &
migrationBuilder
åå 
.
åå 
	DropTable
åå &
(
åå& '
name
çç 
:
çç 
$str
çç *
)
çç* +
;
çç+ ,
migrationBuilder
èè 
.
èè 
	DropTable
èè &
(
èè& '
name
êê 
:
êê 
$str
êê (
)
êê( )
;
êê) *
migrationBuilder
íí 
.
íí 
	DropTable
íí &
(
íí& '
name
ìì 
:
ìì 
$str
ìì #
)
ìì# $
;
ìì$ %
migrationBuilder
ïï 
.
ïï 
	DropTable
ïï &
(
ïï& '
name
ññ 
:
ññ 
$str
ññ #
)
ññ# $
;
ññ$ %
migrationBuilder
òò 
.
òò 
	DropTable
òò &
(
òò& '
name
ôô 
:
ôô 
$str
ôô 
)
ôô 
;
ôô 
migrationBuilder
õõ 
.
õõ 
	DropTable
õõ &
(
õõ& '
name
úú 
:
úú 
$str
úú 
)
úú 
;
úú 
}
ùù 	
}
ûû 
}üü ˙ƒ
GC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Data\DbInitializer.cs
	namespace 	

_6Memorize
 
. 
Data 
{ 
public 

static 
class 
DbInitializer %
{ 
public 
static 
void 

Initialize %
(% & 
ApplicationDbContext& :
context; B
)B C
{		 	
context

 
.

 
Database

 
.

 
EnsureCreated

 *
(

* +
)

+ ,
;

, -
if 
( 
context 
. 
Words 
. 
Any !
(! "
)" #
)# $
{ 
return 
; 
} 
var 
words 
= 
new 
Word  
[  !
]! "
{ 
new 
Word 
{ 
EngWordName &
=' (
$str) 0
,0 1
TurWordName2 =
=> ?
$str@ F
,F G
CategoryH P
=Q R
$strS b
,b c
PicturePathd o
=p q
$str	r Ö
}
Ü á
,
á à
new 
Word 
{ 
EngWordName &
=' (
$str) 1
,1 2
TurWordName3 >
=? @
$strA K
,K L
CategoryM U
=V W
$strX g
,g h
PicturePathi t
=u v
$str	w ã
}
å ç
,
ç é
new 
Word 
{ 
EngWordName &
=' (
$str) 0
,0 1
TurWordName2 =
=> ?
$str@ G
,G H
CategoryI Q
=R S
$strT c
,c d
PicturePathe p
=q r
$str	s Ü
}
á à
,
à â
new 
Word 
{ 
EngWordName &
=' (
$str) 1
,1 2
TurWordName3 >
=? @
$strA H
,H I
CategoryJ R
=S T
$strU d
,d e
PicturePathf q
=r s
$str	t à
}
â ä
,
ä ã
new 
Word 
{ 
EngWordName &
=' (
$str) 0
,0 1
TurWordName2 =
=> ?
$str@ D
,D E
CategoryF N
=O P
$strQ `
,` a
PicturePathb m
=n o
$str	p É
}
Ñ Ö
,
Ö Ü
new 
Word 
{ 
EngWordName &
=' (
$str) .
,. /
TurWordName0 ;
=< =
$str> D
,D E
CategoryF N
=O P
$strQ Z
,Z [
PicturePath\ g
=h i
$strj {
}| }
,} ~
new 
Word 
{ 
EngWordName &
=' (
$str) .
,. /
TurWordName0 ;
=< =
$str> E
,E F
CategoryG O
=P Q
$strR [
,[ \
PicturePath] h
=i j
$strk }
}~ 
,	 Ä
new 
Word 
{ 
EngWordName &
=' (
$str) 3
,3 4
TurWordName5 @
=A B
$strC H
,H I
CategoryJ R
=S T
$strU ^
,^ _
PicturePath` k
=l m
$str	n Ñ
}
Ö Ü
,
Ü á
new   
Word   
{   
EngWordName   &
=  ' (
$str  ) /
,  / 0
TurWordName  1 <
=  = >
$str  ? D
,  D E
Category  F N
=  O P
$str  Q Z
,  Z [
PicturePath  \ g
=  h i
$str  j |
}  } ~
,  ~ 
new!! 
Word!! 
{!! 
EngWordName!! &
=!!' (
$str!!) /
,!!/ 0
TurWordName!!1 <
=!!= >
$str!!? F
,!!F G
Category!!H P
=!!Q R
$str!!S \
,!!\ ]
PicturePath!!^ i
=!!j k
$str!!l ~
}	!! Ä
,
!!Ä Å
new$$ 
Word$$ 
{$$ 
EngWordName$$ &
=$$' (
$str$$) /
,$$/ 0
TurWordName$$1 <
=$$= >
$str$$? E
,$$E F
Category$$G O
=$$P Q
$str$$R Z
,$$Z [
PicturePath$$\ g
=$$h i
$str$$j |
}$$} ~
,$$~ 
new%% 
Word%% 
{%% 
EngWordName%% &
=%%' (
$str%%) 1
,%%1 2
TurWordName%%3 >
=%%? @
$str%%A H
,%%H I
Category%%J R
=%%S T
$str%%U ]
,%%] ^
PicturePath%%_ j
=%%k l
$str	%%m Å
}
%%Ç É
,
%%É Ñ
new&& 
Word&& 
{&& 
EngWordName&& &
=&&' (
$str&&) 3
,&&3 4
TurWordName&&5 @
=&&A B
$str&&C H
,&&H I
Category&&J R
=&&S T
$str&&U ]
,&&] ^
PicturePath&&_ j
=&&k l
$str	&&m É
}
&&Ñ Ö
,
&&Ö Ü
new'' 
Word'' 
{'' 
EngWordName'' &
=''' (
$str'') 0
,''0 1
TurWordName''2 =
=''> ?
$str''@ G
,''G H
Category''I Q
=''R S
$str''T \
,''\ ]
PicturePath''^ i
=''j k
$str''l 
}
''Ä Å
,
''Å Ç
new(( 
Word(( 
{(( 
EngWordName(( &
=((' (
$str(() .
,((. /
TurWordName((0 ;
=((< =
$str((> E
,((E F
Category((G O
=((P Q
$str((R Z
,((Z [
PicturePath((\ g
=((h i
$str((j {
}((| }
,((} ~
new++ 
Word++ 
{++ 
EngWordName++ &
=++' (
$str++) /
,++/ 0
TurWordName++1 <
=++= >
$str++? F
,++F G
Category++H P
=++Q R
$str++S ^
,++^ _
PicturePath++` k
=++l m
$str	++n Ä
}
++Å Ç
,
++Ç É
new,, 
Word,, 
{,, 
EngWordName,, &
=,,' (
$str,,) 3
,,,3 4
TurWordName,,5 @
=,,A B
$str,,C K
,,,K L
Category,,M U
=,,V W
$str,,X c
,,,c d
PicturePath,,e p
=,,q r
$str	,,s â
}
,,ä ã
,
,,ã å
new-- 
Word-- 
{-- 
EngWordName-- &
=--' (
$str--) 1
,--1 2
TurWordName--3 >
=--? @
$str--A H
,--H I
Category--J R
=--S T
$str--U `
,--` a
PicturePath--b m
=--n o
$str	--p Ñ
}
--Ö Ü
,
--Ü á
new.. 
Word.. 
{.. 
EngWordName.. &
=..' (
$str..) 1
,..1 2
TurWordName..3 >
=..? @
$str..A G
,..G H
Category..I Q
=..R S
$str..T _
,.._ `
PicturePath..a l
=..m n
$str	..o É
}
..Ñ Ö
,
..Ö Ü
new// 
Word// 
{// 
EngWordName// &
=//' (
$str//) 2
,//2 3
TurWordName//4 ?
=//@ A
$str//B L
,//L M
Category//N V
=//W X
$str//Y d
,//d e
PicturePath//f q
=//r s
$str	//t â
}
//ä ã
,
//ã å
new22 
Word22 
{22 
EngWordName22 &
=22' (
$str22) 1
,221 2
TurWordName223 >
=22? @
$str22A H
,22H I
Category22J R
=22S T
$str22U \
,22\ ]
PicturePath22^ i
=22j k
$str	22l Ä
}
22Å Ç
,
22Ç É
new33 
Word33 
{33 
EngWordName33 &
=33' (
$str33) 0
,330 1
TurWordName332 =
=33> ?
$str33@ H
,33H I
Category33J R
=33S T
$str33U \
,33\ ]
PicturePath33^ i
=33j k
$str33l 
}
33Ä Å
,
33Å Ç
new44 
Word44 
{44 
EngWordName44 &
=44' (
$str44) 1
,441 2
TurWordName443 >
=44? @
$str44A H
,44H I
Category44J R
=44S T
$str44U \
,44\ ]
PicturePath44^ i
=44j k
$str	44l Ä
}
44Å Ç
,
44Ç É
new55 
Word55 
{55 
EngWordName55 &
=55' (
$str55) /
,55/ 0
TurWordName551 <
=55= >
$str55? F
,55F G
Category55H P
=55Q R
$str55S Z
,55Z [
PicturePath55\ g
=55h i
$str55j |
}55} ~
,55~ 
new66 
Word66 
{66 
EngWordName66 &
=66' (
$str66) 0
,660 1
TurWordName662 =
=66> ?
$str66@ F
,66F G
Category66H P
=66Q R
$str66S Z
,66Z [
PicturePath66\ g
=66h i
$str66j }
}66~ 
}77 
;77 
context99 
.99 
Words99 
.99 
AddRange99 "
(99" #
words99# (
)99( )
;99) *
context:: 
.:: 
SaveChanges:: 
(::  
)::  !
;::! "
var== 
wordSamples== 
=== 
new== !
List==" &
<==& '

WordSample==' 1
>==1 2
{>> 
new@@ 

WordSample@@ 
{@@  
WordID@@! '
=@@( )
words@@* /
[@@/ 0
$num@@0 1
]@@1 2
.@@2 3
WordID@@3 9
,@@9 :
Sample@@; A
=@@B C
$str@@D _
}@@` a
,@@a b
newAA 

WordSampleAA 
{AA  
WordIDAA! '
=AA( )
wordsAA* /
[AA/ 0
$numAA0 1
]AA1 2
.AA2 3
WordIDAA3 9
,AA9 :
SampleAA; A
=AAB C
$strAAD a
}AAb c
,AAc d
newBB 

WordSampleBB 
{BB  
WordIDBB! '
=BB( )
wordsBB* /
[BB/ 0
$numBB0 1
]BB1 2
.BB2 3
WordIDBB3 9
,BB9 :
SampleBB; A
=BBB C
$strBBD d
}BBe f
,BBf g
newCC 

WordSampleCC 
{CC  
WordIDCC! '
=CC( )
wordsCC* /
[CC/ 0
$numCC0 1
]CC1 2
.CC2 3
WordIDCC3 9
,CC9 :
SampleCC; A
=CCB C
$strCCD d
}CCe f
,CCf g
newDD 

WordSampleDD 
{DD  
WordIDDD! '
=DD( )
wordsDD* /
[DD/ 0
$numDD0 1
]DD1 2
.DD2 3
WordIDDD3 9
,DD9 :
SampleDD; A
=DDB C
$strDDD b
}DDc d
,DDd e
newEE 

WordSampleEE 
{EE  
WordIDEE! '
=EE( )
wordsEE* /
[EE/ 0
$numEE0 1
]EE1 2
.EE2 3
WordIDEE3 9
,EE9 :
SampleEE; A
=EEB C
$strEED a
}EEb c
,EEc d
newFF 

WordSampleFF 
{FF  
WordIDFF! '
=FF( )
wordsFF* /
[FF/ 0
$numFF0 1
]FF1 2
.FF2 3
WordIDFF3 9
,FF9 :
SampleFF; A
=FFB C
$strFFD d
}FFe f
,FFf g
newGG 

WordSampleGG 
{GG  
WordIDGG! '
=GG( )
wordsGG* /
[GG/ 0
$numGG0 1
]GG1 2
.GG2 3
WordIDGG3 9
,GG9 :
SampleGG; A
=GGB C
$strGGD a
}GGb c
,GGc d
newHH 

WordSampleHH 
{HH  
WordIDHH! '
=HH( )
wordsHH* /
[HH/ 0
$numHH0 1
]HH1 2
.HH2 3
WordIDHH3 9
,HH9 :
SampleHH; A
=HHB C
$strHHD ^
}HH_ `
,HH` a
newII 

WordSampleII 
{II  
WordIDII! '
=II( )
wordsII* /
[II/ 0
$numII0 1
]II1 2
.II2 3
WordIDII3 9
,II9 :
SampleII; A
=IIB C
$strIID j
}IIk l
,IIl m
newLL 

WordSampleLL 
{LL  
WordIDLL! '
=LL( )
wordsLL* /
[LL/ 0
$numLL0 1
]LL1 2
.LL2 3
WordIDLL3 9
,LL9 :
SampleLL; A
=LLB C
$strLLD f
}LLg h
,LLh i
newMM 

WordSampleMM 
{MM  
WordIDMM! '
=MM( )
wordsMM* /
[MM/ 0
$numMM0 1
]MM1 2
.MM2 3
WordIDMM3 9
,MM9 :
SampleMM; A
=MMB C
$strMMD e
}MMf g
,MMg h
newNN 

WordSampleNN 
{NN  
WordIDNN! '
=NN( )
wordsNN* /
[NN/ 0
$numNN0 1
]NN1 2
.NN2 3
WordIDNN3 9
,NN9 :
SampleNN; A
=NNB C
$strNND h
}NNi j
,NNj k
newOO 

WordSampleOO 
{OO  
WordIDOO! '
=OO( )
wordsOO* /
[OO/ 0
$numOO0 1
]OO1 2
.OO2 3
WordIDOO3 9
,OO9 :
SampleOO; A
=OOB C
$strOOD m
}OOn o
,OOo p
newPP 

WordSamplePP 
{PP  
WordIDPP! '
=PP( )
wordsPP* /
[PP/ 0
$numPP0 1
]PP1 2
.PP2 3
WordIDPP3 9
,PP9 :
SamplePP; A
=PPB C
$strPPD n
}PPo p
,PPp q
newQQ 

WordSampleQQ 
{QQ  
WordIDQQ! '
=QQ( )
wordsQQ* /
[QQ/ 0
$numQQ0 1
]QQ1 2
.QQ2 3
WordIDQQ3 9
,QQ9 :
SampleQQ; A
=QQB C
$strQQD f
}QQg h
,QQh i
newRR 

WordSampleRR 
{RR  
WordIDRR! '
=RR( )
wordsRR* /
[RR/ 0
$numRR0 1
]RR1 2
.RR2 3
WordIDRR3 9
,RR9 :
SampleRR; A
=RRB C
$strRRD f
}RRg h
,RRh i
newSS 

WordSampleSS 
{SS  
WordIDSS! '
=SS( )
wordsSS* /
[SS/ 0
$numSS0 1
]SS1 2
.SS2 3
WordIDSS3 9
,SS9 :
SampleSS; A
=SSB C
$strSSD k
}SSl m
,SSm n
newTT 

WordSampleTT 
{TT  
WordIDTT! '
=TT( )
wordsTT* /
[TT/ 0
$numTT0 1
]TT1 2
.TT2 3
WordIDTT3 9
,TT9 :
SampleTT; A
=TTB C
$strTTD k
}TTl m
,TTm n
newUU 

WordSampleUU 
{UU  
WordIDUU! '
=UU( )
wordsUU* /
[UU/ 0
$numUU0 1
]UU1 2
.UU2 3
WordIDUU3 9
,UU9 :
SampleUU; A
=UUB C
$strUUD k
}UUl m
,UUm n
newXX 

WordSampleXX 
{XX  
WordIDXX! '
=XX( )
wordsXX* /
[XX/ 0
$numXX0 2
]XX2 3
.XX3 4
WordIDXX4 :
,XX: ;
SampleXX< B
=XXC D
$strXXE i
}XXj k
,XXk l
newYY 

WordSampleYY 
{YY  
WordIDYY! '
=YY( )
wordsYY* /
[YY/ 0
$numYY0 2
]YY2 3
.YY3 4
WordIDYY4 :
,YY: ;
SampleYY< B
=YYC D
$strYYE e
}YYf g
,YYg h
newZZ 

WordSampleZZ 
{ZZ  
WordIDZZ! '
=ZZ( )
wordsZZ* /
[ZZ/ 0
$numZZ0 2
]ZZ2 3
.ZZ3 4
WordIDZZ4 :
,ZZ: ;
SampleZZ< B
=ZZC D
$strZZE o
}ZZp q
,ZZq r
new[[ 

WordSample[[ 
{[[  
WordID[[! '
=[[( )
words[[* /
[[[/ 0
$num[[0 2
][[2 3
.[[3 4
WordID[[4 :
,[[: ;
Sample[[< B
=[[C D
$str[[E i
}[[j k
,[[k l
new\\ 

WordSample\\ 
{\\  
WordID\\! '
=\\( )
words\\* /
[\\/ 0
$num\\0 2
]\\2 3
.\\3 4
WordID\\4 :
,\\: ;
Sample\\< B
=\\C D
$str\\E i
}\\j k
,\\k l
new]] 

WordSample]] 
{]]  
WordID]]! '
=]]( )
words]]* /
[]]/ 0
$num]]0 2
]]]2 3
.]]3 4
WordID]]4 :
,]]: ;
Sample]]< B
=]]C D
$str]]E m
}]]n o
,]]o p
new^^ 

WordSample^^ 
{^^  
WordID^^! '
=^^( )
words^^* /
[^^/ 0
$num^^0 2
]^^2 3
.^^3 4
WordID^^4 :
,^^: ;
Sample^^< B
=^^C D
$str^^E h
}^^i j
,^^j k
new__ 

WordSample__ 
{__  
WordID__! '
=__( )
words__* /
[__/ 0
$num__0 2
]__2 3
.__3 4
WordID__4 :
,__: ;
Sample__< B
=__C D
$str__E e
}__f g
,__g h
new`` 

WordSample`` 
{``  
WordID``! '
=``( )
words``* /
[``/ 0
$num``0 2
]``2 3
.``3 4
WordID``4 :
,``: ;
Sample``< B
=``C D
$str``E d
}``e f
,``f g
newaa 

WordSampleaa 
{aa  
WordIDaa! '
=aa( )
wordsaa* /
[aa/ 0
$numaa0 2
]aa2 3
.aa3 4
WordIDaa4 :
,aa: ;
Sampleaa< B
=aaC D
$straaE g
}aah i
,aai j
newdd 

WordSampledd 
{dd  
WordIDdd! '
=dd( )
wordsdd* /
[dd/ 0
$numdd0 2
]dd2 3
.dd3 4
WordIDdd4 :
,dd: ;
Sampledd< B
=ddC D
$strddE \
}dd] ^
,dd^ _
newee 

WordSampleee 
{ee  
WordIDee! '
=ee( )
wordsee* /
[ee/ 0
$numee0 2
]ee2 3
.ee3 4
WordIDee4 :
,ee: ;
Sampleee< B
=eeC D
$streeE e
}eef g
,eeg h
newff 

WordSampleff 
{ff  
WordIDff! '
=ff( )
wordsff* /
[ff/ 0
$numff0 2
]ff2 3
.ff3 4
WordIDff4 :
,ff: ;
Sampleff< B
=ffC D
$strffE f
}ffg h
,ffh i
newgg 

WordSamplegg 
{gg  
WordIDgg! '
=gg( )
wordsgg* /
[gg/ 0
$numgg0 2
]gg2 3
.gg3 4
WordIDgg4 :
,gg: ;
Samplegg< B
=ggC D
$strggE l
}ggm n
,ggn o
newhh 

WordSamplehh 
{hh  
WordIDhh! '
=hh( )
wordshh* /
[hh/ 0
$numhh0 2
]hh2 3
.hh3 4
WordIDhh4 :
,hh: ;
Samplehh< B
=hhC D
$strhhE `
}hha b
,hhb c
newii 

WordSampleii 
{ii  
WordIDii! '
=ii( )
wordsii* /
[ii/ 0
$numii0 2
]ii2 3
.ii3 4
WordIDii4 :
,ii: ;
Sampleii< B
=iiC D
$striiE `
}iia b
,iib c
newjj 

WordSamplejj 
{jj  
WordIDjj! '
=jj( )
wordsjj* /
[jj/ 0
$numjj0 2
]jj2 3
.jj3 4
WordIDjj4 :
,jj: ;
Samplejj< B
=jjC D
$strjjE g
}jjh i
,jji j
newkk 

WordSamplekk 
{kk  
WordIDkk! '
=kk( )
wordskk* /
[kk/ 0
$numkk0 2
]kk2 3
.kk3 4
WordIDkk4 :
,kk: ;
Samplekk< B
=kkC D
$strkkE b
}kkc d
,kkd e
newll 

WordSamplell 
{ll  
WordIDll! '
=ll( )
wordsll* /
[ll/ 0
$numll0 2
]ll2 3
.ll3 4
WordIDll4 :
,ll: ;
Samplell< B
=llC D
$strllE l
}llm n
,lln o
newmm 

WordSamplemm 
{mm  
WordIDmm! '
=mm( )
wordsmm* /
[mm/ 0
$nummm0 2
]mm2 3
.mm3 4
WordIDmm4 :
,mm: ;
Samplemm< B
=mmC D
$strmmE `
}mma b
,mmb c
newpp 

WordSamplepp 
{pp  
WordIDpp! '
=pp( )
wordspp* /
[pp/ 0
$numpp0 2
]pp2 3
.pp3 4
WordIDpp4 :
,pp: ;
Samplepp< B
=ppC D
$strppE e
}ppf g
,ppg h
newqq 

WordSampleqq 
{qq  
WordIDqq! '
=qq( )
wordsqq* /
[qq/ 0
$numqq0 2
]qq2 3
.qq3 4
WordIDqq4 :
,qq: ;
Sampleqq< B
=qqC D
$strqqE g
}qqh i
,qqi j
newrr 

WordSamplerr 
{rr  
WordIDrr! '
=rr( )
wordsrr* /
[rr/ 0
$numrr0 2
]rr2 3
.rr3 4
WordIDrr4 :
,rr: ;
Samplerr< B
=rrC D
$strrrE g
}rrh i
,rri j
newss 

WordSampless 
{ss  
WordIDss! '
=ss( )
wordsss* /
[ss/ 0
$numss0 2
]ss2 3
.ss3 4
WordIDss4 :
,ss: ;
Sampless< B
=ssC D
$strssE c
}ssd e
,sse f
newtt 

WordSamplett 
{tt  
WordIDtt! '
=tt( )
wordstt* /
[tt/ 0
$numtt0 2
]tt2 3
.tt3 4
WordIDtt4 :
,tt: ;
Samplett< B
=ttC D
$strttE k
}ttl m
,ttm n
newuu 

WordSampleuu 
{uu  
WordIDuu! '
=uu( )
wordsuu* /
[uu/ 0
$numuu0 2
]uu2 3
.uu3 4
WordIDuu4 :
,uu: ;
Sampleuu< B
=uuC D
$struuE h
}uui j
,uuj k
newvv 

WordSamplevv 
{vv  
WordIDvv! '
=vv( )
wordsvv* /
[vv/ 0
$numvv0 2
]vv2 3
.vv3 4
WordIDvv4 :
,vv: ;
Samplevv< B
=vvC D
$strvvE d
}vve f
,vvf g
newww 

WordSampleww 
{ww  
WordIDww! '
=ww( )
wordsww* /
[ww/ 0
$numww0 2
]ww2 3
.ww3 4
WordIDww4 :
,ww: ;
Sampleww< B
=wwC D
$strwwE f
}wwg h
,wwh i
newxx 

WordSamplexx 
{xx  
WordIDxx! '
=xx( )
wordsxx* /
[xx/ 0
$numxx0 2
]xx2 3
.xx3 4
WordIDxx4 :
,xx: ;
Samplexx< B
=xxC D
$strxxE g
}xxh i
,xxi j
newyy 

WordSampleyy 
{yy  
WordIDyy! '
=yy( )
wordsyy* /
[yy/ 0
$numyy0 2
]yy2 3
.yy3 4
WordIDyy4 :
,yy: ;
Sampleyy< B
=yyC D
$stryyE g
}yyh i
}zz 
;zz 
context|| 
.|| 
WordSamples|| 
.||  
AddRange||  (
(||( )
wordSamples||) 4
)||4 5
;||5 6
context}} 
.}} 
SaveChanges}} 
(}}  
)}}  !
;}}! "
}~~ 	
} 
}ÄÄ ∆?
NC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Data\ApplicationDbContext.cs
	namespace 	

_6Memorize
 
. 
Data 
{ 
public 

class  
ApplicationDbContext %
:& '
	DbContext( 1
{ 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
<4 5 
ApplicationDbContext5 I
>I J
optionsK R
)R S
:		 
base		 
(		 
options		 
)		 
{

 	
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Word 
> 
Words  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 

WordSample 
>  
WordSamples! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
UserWordProgress %
>% &
UserWordProgresses' 9
{: ;
get< ?
;? @
setA D
;D E
}F G
public 
DbSet 
< 
UserSettings !
>! "
UserSettings# /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 
DbSet 
< 

WordPuzzle 
>  
WordPuzzles! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
WordChainStory #
># $
WordChainStories% 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
DbSet 
< 
PasswordResetToken '
>' (
PasswordResetTokens) <
{= >
get? B
;B C
setD G
;G H
}I J
public 
DbSet 
< "
EmailVerificationToken +
>+ ,#
EmailVerificationTokens- D
{E F
getG J
;J K
setL O
;O P
}Q R
=S T
nullU Y
!Y Z
;Z [
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
UserWordProgress  0
>0 1
(1 2
)2 3
. 
HasOne 
( 
uwp 
=> 
uwp "
." #
User# '
)' (
. 
WithMany 
( 
u 
=> 
u  
.  !
UserWordProgresses! 3
)3 4
. 
HasForeignKey 
( 
uwp "
=># %
uwp& )
.) *
UserID* 0
)0 1
. 
OnDelete 
( 
DeleteBehavior (
.( )
Cascade) 0
)0 1
;1 2
modelBuilder!! 
.!! 
Entity!! 
<!!  
UserWordProgress!!  0
>!!0 1
(!!1 2
)!!2 3
."" 
HasOne"" 
("" 
uwp"" 
=>"" 
uwp"" "
.""" #
Word""# '
)""' (
.## 
WithMany## 
(## 
w## 
=>## 
w##  
.##  !
UserWordProgresses##! 3
)##3 4
.$$ 
HasForeignKey$$ 
($$ 
uwp$$ "
=>$$# %
uwp$$& )
.$$) *
WordID$$* 0
)$$0 1
.%% 
OnDelete%% 
(%% 
DeleteBehavior%% (
.%%( )
Cascade%%) 0
)%%0 1
;%%1 2
modelBuilder'' 
.'' 
Entity'' 
<''  

WordSample''  *
>''* +
(''+ ,
)'', -
.(( 
HasOne(( 
((( 
ws(( 
=>(( 
ws((  
.((  !
Word((! %
)((% &
.)) 
WithMany)) 
()) 
w)) 
=>)) 
w))  
.))  !
WordSamples))! ,
))), -
.** 
HasForeignKey** 
(** 
ws** !
=>**" $
ws**% '
.**' (
WordID**( .
)**. /
.++ 
OnDelete++ 
(++ 
DeleteBehavior++ (
.++( )
Cascade++) 0
)++0 1
;++1 2
modelBuilder-- 
.-- 
Entity-- 
<--  
UserSettings--  ,
>--, -
(--- .
)--. /
... 
HasOne.. 
(.. 
us.. 
=>.. 
us..  
...  !
User..! %
)..% &
.// 
WithOne// 
(// 
)// 
.00 
HasForeignKey00 
<00 
UserSettings00 +
>00+ ,
(00, -
us00- /
=>000 2
us003 5
.005 6
UserID006 <
)00< =
.11 
OnDelete11 
(11 
DeleteBehavior11 (
.11( )
Cascade11) 0
)110 1
;111 2
modelBuilder33 
.33 
Entity33 
<33  

WordPuzzle33  *
>33* +
(33+ ,
)33, -
.44 
HasOne44 
(44 
wp44 
=>44 
wp44  
.44  !
User44! %
)44% &
.55 
WithMany55 
(55 
u55 
=>55 
u55  
.55  !
WordPuzzles55! ,
)55, -
.66 
HasForeignKey66 
(66 
wp66 !
=>66" $
wp66% '
.66' (
UserID66( .
)66. /
.77 
OnDelete77 
(77 
DeleteBehavior77 (
.77( )
Cascade77) 0
)770 1
;771 2
modelBuilder99 
.99 
Entity99 
<99  

WordPuzzle99  *
>99* +
(99+ ,
)99, -
.:: 
HasOne:: 
(:: 
wp:: 
=>:: 
wp::  
.::  !
Word::! %
)::% &
.;; 
WithMany;; 
(;; 
);; 
.<< 
HasForeignKey<< 
(<< 
wp<< !
=><<" $
wp<<% '
.<<' (
WordID<<( .
)<<. /
.== 
OnDelete== 
(== 
DeleteBehavior== (
.==( )
Cascade==) 0
)==0 1
;==1 2
modelBuilder?? 
.?? 
Entity?? 
<??  
WordChainStory??  .
>??. /
(??/ 0
)??0 1
.@@ 
HasOne@@ 
(@@ 
wcs@@ 
=>@@ 
wcs@@ "
.@@" #
User@@# '
)@@' (
.AA 
WithManyAA 
(AA 
uAA 
=>AA 
uAA  
.AA  !
WordChainStoriesAA! 1
)AA1 2
.BB 
HasForeignKeyBB 
(BB 
wcsBB "
=>BB# %
wcsBB& )
.BB) *
UserIDBB* 0
)BB0 1
.CC 
OnDeleteCC 
(CC 
DeleteBehaviorCC (
.CC( )
CascadeCC) 0
)CC0 1
;CC1 2
}DD 	
}EE 
}FF êÕ
OC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Controllers\WordController.cs
	namespace 	

_6Memorize
 
. 
Controllers  
{		 
[

 
	Authorize

 
]

 
public 

class 
WordController 
:  !

Controller" ,
{ 
private 
readonly  
ApplicationDbContext -
_context. 6
;6 7
private 
readonly 
IWebHostEnvironment ,
_environment- 9
;9 :
public 
WordController 
(  
ApplicationDbContext 2
context3 :
,: ;
IWebHostEnvironment< O
environmentP [
)[ \
{ 	
_context 
= 
context 
; 
_environment 
= 
environment &
;& '
} 	
private 
void 
PrepareCategories &
(& '
)' (
{ 	
var 

categories 
= 
new  
List! %
<% &
string& ,
>, -
{ 
$str 
, 
$str 
, 
$str 
, 
$str 
, 
$str 
, 
$str   
,   
$str!! 
,!! 
$str"" 
,"" 
$str## 
,## 
$str$$ 
,$$ 
$str%% 
,%% 
$str&& 
,&& 
$str'' 
}(( 
;(( 
ViewBag** 
.** 

Categories** 
=**  

categories**! +
;**+ ,
}++ 	
public.. 
async.. 
Task.. 
<.. 
IActionResult.. '
>..' (
Index..) .
(... /
)../ 0
{// 	
var00 
words00 
=00 
await00 
_context00 &
.00& '
Words00' ,
.11 
Include11 
(11 
w11 
=>11 
w11 
.11  
WordSamples11  +
)11+ ,
.22 
OrderBy22 
(22 
w22 
=>22 
w22 
.22  
EngWordName22  +
)22+ ,
.33 
ToListAsync33 
(33 
)33 
;33 
return44 
View44 
(44 
words44 
)44 
;44 
}55 	
public88 
IActionResult88 
Create88 #
(88# $
)88$ %
{99 	
PrepareCategories:: 
(:: 
):: 
;::  
return;; 
View;; 
(;; 
);; 
;;; 
}<< 	
[?? 	
HttpPost??	 
]?? 
[@@ 	$
ValidateAntiForgeryToken@@	 !
]@@! "
publicAA 
asyncAA 
TaskAA 
<AA 
IActionResultAA '
>AA' (
CreateAA) /
(AA/ 0
WordAA0 4
wordAA5 9
,AA9 :
	IFormFileAA; D
?AAD E
pictureAAF M
,AAM N
	IFormFileAAO X
?AAX Y
audioAAZ _
,AA_ `
stringAAa g
[AAg h
]AAh i
?AAi j
samplesAAk r
)AAr s
{BB 	
ifCC 
(CC 

ModelStateCC 
.CC 
IsValidCC "
)CC" #
{DD 
varEE 
userIdClaimEE 
=EE  !
UserEE" &
.EE& '
	FindFirstEE' 0
(EE0 1

ClaimTypesEE1 ;
.EE; <
NameIdentifierEE< J
)EEJ K
;EEK L
ifFF 
(FF 
userIdClaimFF 
==FF  "
nullFF# '
)FF' (
{GG 
returnHH 
RedirectToActionHH +
(HH+ ,
$strHH, 3
,HH3 4
$strHH5 >
)HH> ?
;HH? @
}II 
varKK 
userIdKK 
=KK 
intKK  
.KK  !
ParseKK! &
(KK& '
userIdClaimKK' 2
.KK2 3
ValueKK3 8
)KK8 9
;KK9 :
varLL 
userLL 
=LL 
awaitLL  
_contextLL! )
.LL) *
UsersLL* /
.LL/ 0
	FindAsyncLL0 9
(LL9 :
userIdLL: @
)LL@ A
;LLA B
ifMM 
(MM 
userMM 
==MM 
nullMM  
)MM  !
{NN 
returnOO 
RedirectToActionOO +
(OO+ ,
$strOO, 3
,OO3 4
$strOO5 >
)OO> ?
;OO? @
}PP 
ifRR 
(RR 
pictureRR 
!=RR 
nullRR #
)RR# $
{SS 
wordTT 
.TT 
PicturePathTT $
=TT% &
awaitTT' ,
SaveFileTT- 5
(TT5 6
pictureTT6 =
,TT= >
$strTT? G
)TTG H
;TTH I
}UU 
ifWW 
(WW 
audioWW 
!=WW 
nullWW !
)WW! "
{XX 
wordYY 
.YY 
	AudioPathYY "
=YY# $
awaitYY% *
SaveFileYY+ 3
(YY3 4
audioYY4 9
,YY9 :
$strYY; B
)YYB C
;YYC D
}ZZ 
if]] 
(]] 
samples]] 
!=]] 
null]] #
&&]]$ &
samples]]' .
.]]. /
Length]]/ 5
>]]6 7
$num]]8 9
)]]9 :
{^^ 
foreach__ 
(__ 
var__  
sample__! '
in__( *
samples__+ 2
.__2 3
Where__3 8
(__8 9
s__9 :
=>__; =
!__> ?
string__? E
.__E F
IsNullOrWhiteSpace__F X
(__X Y
s__Y Z
)__Z [
)__[ \
)__\ ]
{`` 
wordaa 
.aa 
WordSamplesaa (
.aa( )
Addaa) ,
(aa, -
newaa- 0

WordSampleaa1 ;
{bb 
Samplecc "
=cc# $
samplecc% +
}dd 
)dd 
;dd 
}ee 
}ff 
_contexthh 
.hh 
Addhh 
(hh 
wordhh !
)hh! "
;hh" #
awaitii 
_contextii 
.ii 
SaveChangesAsyncii /
(ii/ 0
)ii0 1
;ii1 2
returnjj 
RedirectToActionjj '
(jj' (
nameofjj( .
(jj. /
Indexjj/ 4
)jj4 5
)jj5 6
;jj6 7
}kk 
PrepareCategoriesmm 
(mm 
)mm 
;mm  
returnnn 
Viewnn 
(nn 
wordnn 
)nn 
;nn 
}oo 	
publicrr 
asyncrr 
Taskrr 
<rr 
IActionResultrr '
>rr' (
Editrr) -
(rr- .
intrr. 1
?rr1 2
idrr3 5
)rr5 6
{ss 	
iftt 
(tt 
idtt 
==tt 
nulltt 
)tt 
{uu 
returnvv 
NotFoundvv 
(vv  
)vv  !
;vv! "
}ww 
varyy 
wordyy 
=yy 
awaityy 
_contextyy %
.yy% &
Wordsyy& +
.zz 
Includezz 
(zz 
wzz 
=>zz 
wzz 
.zz  
WordSampleszz  +
)zz+ ,
.{{ 
FirstOrDefaultAsync{{ $
({{$ %
w{{% &
=>{{' )
w{{* +
.{{+ ,
WordID{{, 2
=={{3 5
id{{6 8
){{8 9
;{{9 :
if}} 
(}} 
word}} 
==}} 
null}} 
)}} 
{~~ 
return 
NotFound 
(  
)  !
;! "
}
ÄÄ 
PrepareCategories
ÇÇ 
(
ÇÇ 
)
ÇÇ 
;
ÇÇ  
return
ÉÉ 
View
ÉÉ 
(
ÉÉ 
word
ÉÉ 
)
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
[
áá 	
HttpPost
áá	 
]
áá 
[
àà 	&
ValidateAntiForgeryToken
àà	 !
]
àà! "
public
ââ 
async
ââ 
Task
ââ 
<
ââ 
IActionResult
ââ '
>
ââ' (
Edit
ââ) -
(
ââ- .
int
ââ. 1
id
ââ2 4
,
ââ4 5
Word
ââ6 :
word
ââ; ?
,
ââ? @
	IFormFile
ââA J
?
ââJ K
picture
ââL S
,
ââS T
	IFormFile
ââU ^
?
ââ^ _
audio
ââ` e
,
ââe f
string
ää 
[
ää 
]
ää 
?
ää 
samples
ää 
)
ää 
{
ãã 	
if
åå 
(
åå 
id
åå 
!=
åå 
word
åå 
.
åå 
WordID
åå !
)
åå! "
{
çç 
return
éé 
NotFound
éé 
(
éé  
)
éé  !
;
éé! "
}
èè 
if
ëë 
(
ëë 

ModelState
ëë 
.
ëë 
IsValid
ëë "
)
ëë" #
{
íí 
try
ìì 
{
îî 
var
ïï 
existingWord
ïï $
=
ïï% &
await
ïï' ,
_context
ïï- 5
.
ïï5 6
Words
ïï6 ;
.
ññ 
Include
ññ  
(
ññ  !
w
ññ! "
=>
ññ# %
w
ññ& '
.
ññ' (
WordSamples
ññ( 3
)
ññ3 4
.
óó !
FirstOrDefaultAsync
óó ,
(
óó, -
w
óó- .
=>
óó/ 1
w
óó2 3
.
óó3 4
WordID
óó4 :
==
óó; =
id
óó> @
)
óó@ A
;
óóA B
if
ôô 
(
ôô 
existingWord
ôô $
==
ôô% '
null
ôô( ,
)
ôô, -
{
öö 
return
õõ 
NotFound
õõ '
(
õõ' (
)
õõ( )
;
õõ) *
}
úú 
if
üü 
(
üü 
picture
üü 
!=
üü  "
null
üü# '
)
üü' (
{
†† 
if
¢¢ 
(
¢¢ 
!
¢¢ 
string
¢¢ #
.
¢¢# $
IsNullOrEmpty
¢¢$ 1
(
¢¢1 2
existingWord
¢¢2 >
.
¢¢> ?
PicturePath
¢¢? J
)
¢¢J K
)
¢¢K L
{
££ 

DeleteFile
§§ &
(
§§& '
existingWord
§§' 3
.
§§3 4
PicturePath
§§4 ?
)
§§? @
;
§§@ A
}
•• 
existingWord
ßß $
.
ßß$ %
PicturePath
ßß% 0
=
ßß1 2
await
ßß3 8
SaveFile
ßß9 A
(
ßßA B
picture
ßßB I
,
ßßI J
$str
ßßK S
)
ßßS T
;
ßßT U
}
®® 
if
™™ 
(
™™ 
audio
™™ 
!=
™™  
null
™™! %
)
™™% &
{
´´ 
if
≠≠ 
(
≠≠ 
!
≠≠ 
string
≠≠ #
.
≠≠# $
IsNullOrEmpty
≠≠$ 1
(
≠≠1 2
existingWord
≠≠2 >
.
≠≠> ?
	AudioPath
≠≠? H
)
≠≠H I
)
≠≠I J
{
ÆÆ 

DeleteFile
ØØ &
(
ØØ& '
existingWord
ØØ' 3
.
ØØ3 4
	AudioPath
ØØ4 =
)
ØØ= >
;
ØØ> ?
}
∞∞ 
existingWord
≤≤ $
.
≤≤$ %
	AudioPath
≤≤% .
=
≤≤/ 0
await
≤≤1 6
SaveFile
≤≤7 ?
(
≤≤? @
audio
≤≤@ E
,
≤≤E F
$str
≤≤G N
)
≤≤N O
;
≤≤O P
}
≥≥ 
existingWord
∂∂  
.
∂∂  !
EngWordName
∂∂! ,
=
∂∂- .
word
∂∂/ 3
.
∂∂3 4
EngWordName
∂∂4 ?
;
∂∂? @
existingWord
∑∑  
.
∑∑  !
TurWordName
∑∑! ,
=
∑∑- .
word
∑∑/ 3
.
∑∑3 4
TurWordName
∑∑4 ?
;
∑∑? @
existingWord
∏∏  
.
∏∏  !
Category
∏∏! )
=
∏∏* +
word
∏∏, 0
.
∏∏0 1
Category
∏∏1 9
;
∏∏9 :
_context
ºº 
.
ºº 
WordSamples
ºº (
.
ºº( )
RemoveRange
ºº) 4
(
ºº4 5
existingWord
ºº5 A
.
ººA B
WordSamples
ººB M
)
ººM N
;
ººN O
if
øø 
(
øø 
samples
øø 
!=
øø  "
null
øø# '
&&
øø( *
samples
øø+ 2
.
øø2 3
Length
øø3 9
>
øø: ;
$num
øø< =
)
øø= >
{
¿¿ 
foreach
¡¡ 
(
¡¡  !
var
¡¡! $
sample
¡¡% +
in
¡¡, .
samples
¡¡/ 6
.
¡¡6 7
Where
¡¡7 <
(
¡¡< =
s
¡¡= >
=>
¡¡? A
!
¡¡B C
string
¡¡C I
.
¡¡I J 
IsNullOrWhiteSpace
¡¡J \
(
¡¡\ ]
s
¡¡] ^
)
¡¡^ _
)
¡¡_ `
)
¡¡` a
{
¬¬ 
existingWord
√√ (
.
√√( )
WordSamples
√√) 4
.
√√4 5
Add
√√5 8
(
√√8 9
new
√√9 <

WordSample
√√= G
{
ƒƒ 
Sample
≈≈  &
=
≈≈' (
sample
≈≈) /
}
∆∆ 
)
∆∆ 
;
∆∆ 
}
«« 
}
»» 
await
   
_context
   "
.
  " #
SaveChangesAsync
  # 3
(
  3 4
)
  4 5
;
  5 6
return
ÀÀ 
RedirectToAction
ÀÀ +
(
ÀÀ+ ,
nameof
ÀÀ, 2
(
ÀÀ2 3
Index
ÀÀ3 8
)
ÀÀ8 9
)
ÀÀ9 :
;
ÀÀ: ;
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ *
DbUpdateConcurrencyException
ÕÕ 3
)
ÕÕ3 4
{
ŒŒ 
if
œœ 
(
œœ 
!
œœ 

WordExists
œœ #
(
œœ# $
word
œœ$ (
.
œœ( )
WordID
œœ) /
)
œœ/ 0
)
œœ0 1
{
–– 
return
—— 
NotFound
—— '
(
——' (
)
——( )
;
——) *
}
““ 
else
”” 
{
‘‘ 
throw
’’ 
;
’’ 
}
÷÷ 
}
◊◊ 
}
ÿÿ 
PrepareCategories
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄  
return
€€ 
View
€€ 
(
€€ 
word
€€ 
)
€€ 
;
€€ 
}
‹‹ 	
public
ﬂﬂ 
async
ﬂﬂ 
Task
ﬂﬂ 
<
ﬂﬂ 
IActionResult
ﬂﬂ '
>
ﬂﬂ' (
Delete
ﬂﬂ) /
(
ﬂﬂ/ 0
int
ﬂﬂ0 3
?
ﬂﬂ3 4
id
ﬂﬂ5 7
)
ﬂﬂ7 8
{
‡‡ 	
if
·· 
(
·· 
id
·· 
==
·· 
null
·· 
)
·· 
{
‚‚ 
return
„„ 
NotFound
„„ 
(
„„  
)
„„  !
;
„„! "
}
‰‰ 
var
ÊÊ 
word
ÊÊ 
=
ÊÊ 
await
ÊÊ 
_context
ÊÊ %
.
ÊÊ% &
Words
ÊÊ& +
.
ÁÁ 
Include
ÁÁ 
(
ÁÁ 
w
ÁÁ 
=>
ÁÁ 
w
ÁÁ 
.
ÁÁ  
WordSamples
ÁÁ  +
)
ÁÁ+ ,
.
ËË !
FirstOrDefaultAsync
ËË $
(
ËË$ %
w
ËË% &
=>
ËË' )
w
ËË* +
.
ËË+ ,
WordID
ËË, 2
==
ËË3 5
id
ËË6 8
)
ËË8 9
;
ËË9 :
if
ÍÍ 
(
ÍÍ 
word
ÍÍ 
==
ÍÍ 
null
ÍÍ 
)
ÍÍ 
{
ÎÎ 
return
ÏÏ 
NotFound
ÏÏ 
(
ÏÏ  
)
ÏÏ  !
;
ÏÏ! "
}
ÌÌ 
return
ÔÔ 
View
ÔÔ 
(
ÔÔ 
word
ÔÔ 
)
ÔÔ 
;
ÔÔ 
}
 	
[
ÛÛ 	
HttpPost
ÛÛ	 
,
ÛÛ 

ActionName
ÛÛ 
(
ÛÛ 
$str
ÛÛ &
)
ÛÛ& '
]
ÛÛ' (
[
ÙÙ 	&
ValidateAntiForgeryToken
ÙÙ	 !
]
ÙÙ! "
public
ıı 
async
ıı 
Task
ıı 
<
ıı 
IActionResult
ıı '
>
ıı' (
DeleteConfirmed
ıı) 8
(
ıı8 9
int
ıı9 <
id
ıı= ?
)
ıı? @
{
ˆˆ 	
var
˜˜ 
word
˜˜ 
=
˜˜ 
await
˜˜ 
_context
˜˜ %
.
˜˜% &
Words
˜˜& +
.
˜˜+ ,
	FindAsync
˜˜, 5
(
˜˜5 6
id
˜˜6 8
)
˜˜8 9
;
˜˜9 :
if
¯¯ 
(
¯¯ 
word
¯¯ 
!=
¯¯ 
null
¯¯ 
)
¯¯ 
{
˘˘ 
if
˚˚ 
(
˚˚ 
!
˚˚ 
string
˚˚ 
.
˚˚ 
IsNullOrEmpty
˚˚ )
(
˚˚) *
word
˚˚* .
.
˚˚. /
PicturePath
˚˚/ :
)
˚˚: ;
)
˚˚; <
{
¸¸ 

DeleteFile
˝˝ 
(
˝˝ 
word
˝˝ #
.
˝˝# $
PicturePath
˝˝$ /
)
˝˝/ 0
;
˝˝0 1
}
˛˛ 
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
string
ÄÄ 
.
ÄÄ 
IsNullOrEmpty
ÄÄ )
(
ÄÄ) *
word
ÄÄ* .
.
ÄÄ. /
	AudioPath
ÄÄ/ 8
)
ÄÄ8 9
)
ÄÄ9 :
{
ÅÅ 

DeleteFile
ÇÇ 
(
ÇÇ 
word
ÇÇ #
.
ÇÇ# $
	AudioPath
ÇÇ$ -
)
ÇÇ- .
;
ÇÇ. /
}
ÉÉ 
_context
ÖÖ 
.
ÖÖ 
Words
ÖÖ 
.
ÖÖ 
Remove
ÖÖ %
(
ÖÖ% &
word
ÖÖ& *
)
ÖÖ* +
;
ÖÖ+ ,
await
ÜÜ 
_context
ÜÜ 
.
ÜÜ 
SaveChangesAsync
ÜÜ /
(
ÜÜ/ 0
)
ÜÜ0 1
;
ÜÜ1 2
}
áá 
return
ââ 
RedirectToAction
ââ #
(
ââ# $
nameof
ââ$ *
(
ââ* +
Index
ââ+ 0
)
ââ0 1
)
ââ1 2
;
ââ2 3
}
ää 	
private
åå 
bool
åå 

WordExists
åå 
(
åå  
int
åå  #
id
åå$ &
)
åå& '
{
çç 	
return
éé 
_context
éé 
.
éé 
Words
éé !
.
éé! "
Any
éé" %
(
éé% &
e
éé& '
=>
éé( *
e
éé+ ,
.
éé, -
WordID
éé- 3
==
éé4 6
id
éé7 9
)
éé9 :
;
éé: ;
}
èè 	
private
ëë 
async
ëë 
Task
ëë 
<
ëë 
string
ëë !
>
ëë! "
SaveFile
ëë# +
(
ëë+ ,
	IFormFile
ëë, 5
file
ëë6 :
,
ëë: ;
string
ëë< B
folder
ëëC I
)
ëëI J
{
íí 	
if
ìì 
(
ìì 
file
ìì 
==
ìì 
null
ìì 
||
ìì 
file
ìì  $
.
ìì$ %
Length
ìì% +
==
ìì, .
$num
ìì/ 0
)
ìì0 1
return
îî 
string
îî 
.
îî 
Empty
îî #
;
îî# $
var
ññ 
uploadsFolder
ññ 
=
ññ 
Path
ññ  $
.
ññ$ %
Combine
ññ% ,
(
ññ, -
_environment
ññ- 9
.
ññ9 :
WebRootPath
ññ: E
,
ññE F
folder
ññG M
)
ññM N
;
ññN O
if
óó 
(
óó 
!
óó 
	Directory
óó 
.
óó 
Exists
óó !
(
óó! "
uploadsFolder
óó" /
)
óó/ 0
)
óó0 1
{
òò 
	Directory
ôô 
.
ôô 
CreateDirectory
ôô )
(
ôô) *
uploadsFolder
ôô* 7
)
ôô7 8
;
ôô8 9
}
öö 
var
úú 
uniqueFileName
úú 
=
úú  
$"
úú! #
{
úú# $
Guid
úú$ (
.
úú( )
NewGuid
úú) 0
(
úú0 1
)
úú1 2
}
úú2 3
$str
úú3 4
{
úú4 5
file
úú5 9
.
úú9 :
FileName
úú: B
}
úúB C
"
úúC D
;
úúD E
var
ùù 
filePath
ùù 
=
ùù 
Path
ùù 
.
ùù  
Combine
ùù  '
(
ùù' (
uploadsFolder
ùù( 5
,
ùù5 6
uniqueFileName
ùù7 E
)
ùùE F
;
ùùF G
using
üü 
(
üü 
var
üü 
stream
üü 
=
üü 
new
üü  #

FileStream
üü$ .
(
üü. /
filePath
üü/ 7
,
üü7 8
FileMode
üü9 A
.
üüA B
Create
üüB H
)
üüH I
)
üüI J
{
†† 
await
°° 
file
°° 
.
°° 
CopyToAsync
°° &
(
°°& '
stream
°°' -
)
°°- .
;
°°. /
}
¢¢ 
return
§§ 
$"
§§ 
$str
§§ 
{
§§ 
folder
§§ 
}
§§ 
$str
§§ 
{
§§  
uniqueFileName
§§  .
}
§§. /
"
§§/ 0
;
§§0 1
}
•• 	
private
ßß 
void
ßß 

DeleteFile
ßß 
(
ßß  
string
ßß  &
filePath
ßß' /
)
ßß/ 0
{
®® 	
if
©© 
(
©© 
string
©© 
.
©© 
IsNullOrEmpty
©© $
(
©©$ %
filePath
©©% -
)
©©- .
)
©©. /
return
™™ 
;
™™ 
var
¨¨ 
fullPath
¨¨ 
=
¨¨ 
Path
¨¨ 
.
¨¨  
Combine
¨¨  '
(
¨¨' (
_environment
¨¨( 4
.
¨¨4 5
WebRootPath
¨¨5 @
,
¨¨@ A
filePath
¨¨B J
.
¨¨J K
	TrimStart
¨¨K T
(
¨¨T U
$char
¨¨U X
)
¨¨X Y
)
¨¨Y Z
;
¨¨Z [
if
≠≠ 
(
≠≠ 
System
≠≠ 
.
≠≠ 
IO
≠≠ 
.
≠≠ 
File
≠≠ 
.
≠≠ 
Exists
≠≠ %
(
≠≠% &
fullPath
≠≠& .
)
≠≠. /
)
≠≠/ 0
{
ÆÆ 
System
ØØ 
.
ØØ 
IO
ØØ 
.
ØØ 
File
ØØ 
.
ØØ 
Delete
ØØ %
(
ØØ% &
fullPath
ØØ& .
)
ØØ. /
;
ØØ/ 0
}
∞∞ 
}
±± 	
public
¥¥ 
async
¥¥ 
Task
¥¥ 
<
¥¥ 
IActionResult
¥¥ '
>
¥¥' (
Wordle
¥¥) /
(
¥¥/ 0
)
¥¥0 1
{
µµ 	
var
∂∂ 
userIdClaim
∂∂ 
=
∂∂ 
User
∂∂ "
.
∂∂" #
	FindFirst
∂∂# ,
(
∂∂, -

ClaimTypes
∂∂- 7
.
∂∂7 8
NameIdentifier
∂∂8 F
)
∂∂F G
;
∂∂G H
if
∑∑ 
(
∑∑ 
userIdClaim
∑∑ 
==
∑∑ 
null
∑∑ #
)
∑∑# $
{
∏∏ 
return
ππ 
RedirectToAction
ππ '
(
ππ' (
$str
ππ( /
,
ππ/ 0
$str
ππ1 :
)
ππ: ;
;
ππ; <
}
∫∫ 
var
ºº 
userId
ºº 
=
ºº 
int
ºº 
.
ºº 
Parse
ºº "
(
ºº" #
userIdClaim
ºº# .
.
ºº. /
Value
ºº/ 4
)
ºº4 5
;
ºº5 6
var
øø 
learnedWords
øø 
=
øø 
await
øø $
_context
øø% -
.
øø- . 
UserWordProgresses
øø. @
.
¿¿ 
Include
¿¿ 
(
¿¿ 
uwp
¿¿ 
=>
¿¿ 
uwp
¿¿  #
.
¿¿# $
Word
¿¿$ (
)
¿¿( )
.
¡¡ 
Where
¡¡ 
(
¡¡ 
uwp
¡¡ 
=>
¡¡ 
uwp
¡¡ !
.
¡¡! "
UserID
¡¡" (
==
¡¡) +
userId
¡¡, 2
&&
¡¡3 5
uwp
¡¡6 9
.
¡¡9 :
CurrentStep
¡¡: E
>
¡¡F G
$num
¡¡H I
)
¡¡I J
.
¬¬ 
Select
¬¬ 
(
¬¬ 
uwp
¬¬ 
=>
¬¬ 
uwp
¬¬ "
.
¬¬" #
Word
¬¬# '
)
¬¬' (
.
√√ 
ToListAsync
√√ 
(
√√ 
)
√√ 
;
√√ 
if
∆∆ 
(
∆∆ 
learnedWords
∆∆ 
==
∆∆ 
null
∆∆  $
||
∆∆% '
!
∆∆( )
learnedWords
∆∆) 5
.
∆∆5 6
Any
∆∆6 9
(
∆∆9 :
)
∆∆: ;
)
∆∆; <
{
«« 
TempData
»» 
[
»» 
$str
»» "
]
»»" #
=
»»$ %
$str»»& ™
;»»™ ´
return
…… 
RedirectToAction
…… '
(
……' (
$str
……( /
,
……/ 0
$str
……1 7
)
……7 8
;
……8 9
}
   
var
ÕÕ 
random
ÕÕ 
=
ÕÕ 
new
ÕÕ 
Random
ÕÕ #
(
ÕÕ# $
)
ÕÕ$ %
;
ÕÕ% &
var
ŒŒ 
selectedWord
ŒŒ 
=
ŒŒ 
learnedWords
ŒŒ +
[
ŒŒ+ ,
random
ŒŒ, 2
.
ŒŒ2 3
Next
ŒŒ3 7
(
ŒŒ7 8
learnedWords
ŒŒ8 D
.
ŒŒD E
Count
ŒŒE J
)
ŒŒJ K
]
ŒŒK L
;
ŒŒL M
var
—— 
	viewModel
—— 
=
—— 
new
—— 
WordleViewModel
——  /
{
““ 
Word
”” 
=
”” 
selectedWord
”” #
,
””# $

WordLength
‘‘ 
=
‘‘ 
selectedWord
‘‘ )
.
‘‘) *
EngWordName
‘‘* 5
.
‘‘5 6
Length
‘‘6 <
}
’’ 
;
’’ 
return
◊◊ 
View
◊◊ 
(
◊◊ 
	viewModel
◊◊ !
)
◊◊! "
;
◊◊" #
}
ÿÿ 	
}
ŸŸ 
}⁄⁄ ‰ñ
SC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Controllers\SettingsController.cs
	namespace

 	

_6Memorize


 
.

 
Controllers

  
{ 
[ 
	Authorize 
] 
public 

class 
SettingsController #
:$ %

Controller& 0
{ 
private 
readonly  
ApplicationDbContext -
_context. 6
;6 7
private 
readonly 
EmailService %
_emailService& 3
;3 4
public 
SettingsController !
(! " 
ApplicationDbContext" 6
context7 >
,> ?
EmailService@ L
emailServiceM Y
)Y Z
{ 	
_context 
= 
context 
; 
_emailService 
= 
emailService (
;( )
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
userId 
= 
int 
. 
Parse "
(" #
User# '
.' (
	FindFirst( 1
(1 2

ClaimTypes2 <
.< =
NameIdentifier= K
)K L
?L M
.M N
ValueN S
??T V
$strW Z
)Z [
;[ \
var 
user 
= 
await 
_context %
.% &
Users& +
.+ ,
	FindAsync, 5
(5 6
userId6 <
)< =
;= >
if 
( 
user 
== 
null 
) 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
var   
settings   
=   
await    
_context  ! )
.  ) *
UserSettings  * 6
.!! 
FirstOrDefaultAsync!! $
(!!$ %
s!!% &
=>!!' )
s!!* +
.!!+ ,
UserID!!, 2
==!!3 5
userId!!6 <
)!!< =
;!!= >
if## 
(## 
settings## 
==## 
null##  
)##  !
{$$ 
settings%% 
=%% 
new%% 
UserSettings%% +
{&& 
UserID'' 
='' 
userId'' #
,''# $
WordsPerQuiz((  
=((! "
$num((# %
,((% &
	ShowAudio)) 
=)) 
true))  $
,))$ %

ShowImages** 
=**  
true**! %
,**% &
}++ 
;++ 
_context,, 
.,, 
UserSettings,, %
.,,% &
Add,,& )
(,,) *
settings,,* 2
),,2 3
;,,3 4
await-- 
_context-- 
.-- 
SaveChangesAsync-- /
(--/ 0
)--0 1
;--1 2
}.. 
return00 
View00 
(00 
settings00  
)00  !
;00! "
}11 	
[33 	
HttpPost33	 
]33 
[44 	$
ValidateAntiForgeryToken44	 !
]44! "
public55 
async55 
Task55 
<55 
IActionResult55 '
>55' (
UpdateQuizSettings55) ;
(55; <
UserSettings55< H
settings55I Q
)55Q R
{66 	
if77 
(77 

ModelState77 
.77 
IsValid77 "
)77" #
{88 
var99 
userId99 
=99 
int99  
.99  !
Parse99! &
(99& '
User99' +
.99+ ,
	FindFirst99, 5
(995 6

ClaimTypes996 @
.99@ A
NameIdentifier99A O
)99O P
?99P Q
.99Q R
Value99R W
??99X Z
$str99[ ^
)99^ _
;99_ `
var:: 
existingSettings:: $
=::% &
await::' ,
_context::- 5
.::5 6
UserSettings::6 B
.;; 
FirstOrDefaultAsync;; (
(;;( )
s;;) *
=>;;+ -
s;;. /
.;;/ 0
UserID;;0 6
==;;7 9
userId;;: @
);;@ A
;;;A B
if== 
(== 
existingSettings== $
====% '
null==( ,
)==, -
{>> 
settings?? 
.?? 
UserID?? #
=??$ %
userId??& ,
;??, -
_context@@ 
.@@ 
UserSettings@@ )
.@@) *
Add@@* -
(@@- .
settings@@. 6
)@@6 7
;@@7 8
}AA 
elseBB 
{CC 
existingSettingsDD $
.DD$ %
WordsPerQuizDD% 1
=DD2 3
settingsDD4 <
.DD< =
WordsPerQuizDD= I
;DDI J
existingSettingsEE $
.EE$ %
	ShowAudioEE% .
=EE/ 0
settingsEE1 9
.EE9 :
	ShowAudioEE: C
;EEC D
existingSettingsFF $
.FF$ %

ShowImagesFF% /
=FF0 1
settingsFF2 :
.FF: ;

ShowImagesFF; E
;FFE F
_contextHH 
.HH 
UserSettingsHH )
.HH) *
UpdateHH* 0
(HH0 1
existingSettingsHH1 A
)HHA B
;HHB C
}II 
tryKK 
{LL 
awaitMM 
_contextMM "
.MM" #
SaveChangesAsyncMM# 3
(MM3 4
)MM4 5
;MM5 6
TempDataNN 
[NN 
$strNN &
]NN& '
=NN( )
$strNN* J
;NNJ K
returnOO 
RedirectToActionOO +
(OO+ ,
nameofOO, 2
(OO2 3
IndexOO3 8
)OO8 9
)OO9 :
;OO: ;
}PP 
catchQQ 
(QQ 
	ExceptionQQ  
exQQ! #
)QQ# $
{RR 

ModelStateSS 
.SS 
AddModelErrorSS ,
(SS, -
$strSS- /
,SS/ 0
$strSS1 _
)SS_ `
;SS` a
returnTT 
ViewTT 
(TT  
$strTT  '
,TT' (
settingsTT) 1
)TT1 2
;TT2 3
}UU 
}VV 
returnXX 
ViewXX 
(XX 
$strXX 
,XX  
settingsXX! )
)XX) *
;XX* +
}YY 	
public[[ 
async[[ 
Task[[ 
<[[ 
IActionResult[[ '
>[[' (
Profile[[) 0
([[0 1
)[[1 2
{\\ 	
var]] 
userId]] 
=]] 
int]] 
.]] 
Parse]] "
(]]" #
User]]# '
.]]' (
	FindFirst]]( 1
(]]1 2

ClaimTypes]]2 <
.]]< =
NameIdentifier]]= K
)]]K L
?]]L M
.]]M N
Value]]N S
??]]T V
$str]]W Z
)]]Z [
;]][ \
var^^ 
user^^ 
=^^ 
await^^ 
_context^^ %
.^^% &
Users^^& +
.^^+ ,
	FindAsync^^, 5
(^^5 6
userId^^6 <
)^^< =
;^^= >
if`` 
(`` 
user`` 
==`` 
null`` 
)`` 
returnaa 
RedirectToActionaa '
(aa' (
$straa( /
,aa/ 0
$straa1 :
)aa: ;
;aa; <
varcc 
profileViewModelcc  
=cc! "
newcc# &
ProfileViewModelcc' 7
{dd 
UserNameee 
=ee 
useree 
.ee  
UserNameee  (
,ee( )
Emailff 
=ff 
userff 
.ff 
Emailff "
}gg 
;gg 
ViewBagii 
.ii 
IsEmailConfirmedii $
=ii% &
userii' +
.ii+ ,
IsEmailConfirmedii, <
;ii< =
returnkk 
Viewkk 
(kk 
profileViewModelkk (
)kk( )
;kk) *
}ll 	
[nn 	
HttpPostnn	 
]nn 
[oo 	$
ValidateAntiForgeryTokenoo	 !
]oo! "
publicpp 
asyncpp 
Taskpp 
<pp 
IActionResultpp '
>pp' (
UpdateEmailpp) 4
(pp4 5
stringpp5 ;
newEmailpp< D
,ppD E
stringppF L
passwordppM U
)ppU V
{qq 	
ifrr 
(rr 
stringrr 
.rr 
IsNullOrWhiteSpacerr )
(rr) *
newEmailrr* 2
)rr2 3
||rr4 6
stringrr7 =
.rr= >
IsNullOrWhiteSpacerr> P
(rrP Q
passwordrrQ Y
)rrY Z
)rrZ [
{ss 
TempDatatt 
[tt 
$strtt  
]tt  !
=tt" #
$strtt$ F
;ttF G
returnuu 
RedirectToActionuu '
(uu' (
nameofuu( .
(uu. /
Profileuu/ 6
)uu6 7
)uu7 8
;uu8 9
}vv 
varxx 
userIdxx 
=xx 
intxx 
.xx 
Parsexx "
(xx" #
Userxx# '
.xx' (
	FindFirstxx( 1
(xx1 2

ClaimTypesxx2 <
.xx< =
NameIdentifierxx= K
)xxK L
?xxL M
.xxM N
ValuexxN S
??xxT V
$strxxW Z
)xxZ [
;xx[ \
varyy 
useryy 
=yy 
awaityy 
_contextyy %
.yy% &
Usersyy& +
.yy+ ,
	FindAsyncyy, 5
(yy5 6
userIdyy6 <
)yy< =
;yy= >
if{{ 
({{ 
user{{ 
=={{ 
null{{ 
){{ 
return|| 
RedirectToAction|| '
(||' (
$str||( /
,||/ 0
$str||1 :
)||: ;
;||; <
if 
( 
! 
BCrypt 
. 
Net 
. 
BCrypt "
." #
Verify# )
() *
password* 2
,2 3
user4 8
.8 9
Password9 A
)A B
)B C
{
ÄÄ 
TempData
ÅÅ 
[
ÅÅ 
$str
ÅÅ  
]
ÅÅ  !
=
ÅÅ" #
$str
ÅÅ$ 9
;
ÅÅ9 :
return
ÇÇ 
RedirectToAction
ÇÇ '
(
ÇÇ' (
nameof
ÇÇ( .
(
ÇÇ. /
Profile
ÇÇ/ 6
)
ÇÇ6 7
)
ÇÇ7 8
;
ÇÇ8 9
}
ÉÉ 
if
ÜÜ 
(
ÜÜ 
await
ÜÜ 
_context
ÜÜ 
.
ÜÜ 
Users
ÜÜ $
.
ÜÜ$ %
AnyAsync
ÜÜ% -
(
ÜÜ- .
u
ÜÜ. /
=>
ÜÜ0 2
u
ÜÜ3 4
.
ÜÜ4 5
Email
ÜÜ5 :
==
ÜÜ; =
newEmail
ÜÜ> F
&&
ÜÜG I
u
ÜÜJ K
.
ÜÜK L
UserID
ÜÜL R
!=
ÜÜS U
userId
ÜÜV \
)
ÜÜ\ ]
)
ÜÜ] ^
{
áá 
TempData
àà 
[
àà 
$str
àà  
]
àà  !
=
àà" #
$str
àà$ \
;
àà\ ]
return
ââ 
RedirectToAction
ââ '
(
ââ' (
nameof
ââ( .
(
ââ. /
Profile
ââ/ 6
)
ââ6 7
)
ââ7 8
;
ââ8 9
}
ää 
user
çç 
.
çç 
Email
çç 
=
çç 
newEmail
çç !
;
çç! "
user
éé 
.
éé 
IsEmailConfirmed
éé !
=
éé" #
false
éé$ )
;
éé) *
await
èè 
_context
èè 
.
èè 
SaveChangesAsync
èè +
(
èè+ ,
)
èè, -
;
èè- .
await
íí 
_emailService
íí 
.
íí  #
SendVerificationEmail
íí  5
(
íí5 6
userId
íí6 <
)
íí< =
;
íí= >
TempData
îî 
[
îî 
$str
îî 
]
îî 
=
îî  !
$str
îî" i
;
îîi j
return
ïï 
RedirectToAction
ïï #
(
ïï# $
nameof
ïï$ *
(
ïï* +
Profile
ïï+ 2
)
ïï2 3
)
ïï3 4
;
ïï4 5
}
ññ 	
[
òò 	
HttpPost
òò	 
]
òò 
[
ôô 	&
ValidateAntiForgeryToken
ôô	 !
]
ôô! "
public
öö 
async
öö 
Task
öö 
<
öö 
IActionResult
öö '
>
öö' (
UpdatePassword
öö) 7
(
öö7 8
string
öö8 >
currentPassword
öö? N
,
ööN O
string
ööP V
newPassword
ööW b
,
ööb c
string
õõ  
confirmNewPassword
õõ %
)
õõ% &
{
úú 	
var
ùù 
userId
ùù 
=
ùù 
int
ùù 
.
ùù 
Parse
ùù "
(
ùù" #
User
ùù# '
.
ùù' (
	FindFirst
ùù( 1
(
ùù1 2

ClaimTypes
ùù2 <
.
ùù< =
NameIdentifier
ùù= K
)
ùùK L
?
ùùL M
.
ùùM N
Value
ùùN S
??
ùùT V
$str
ùùW Z
)
ùùZ [
;
ùù[ \
var
ûû 
user
ûû 
=
ûû 
await
ûû 
_context
ûû %
.
ûû% &
Users
ûû& +
.
ûû+ ,
	FindAsync
ûû, 5
(
ûû5 6
userId
ûû6 <
)
ûû< =
;
ûû= >
if
†† 
(
†† 
user
†† 
==
†† 
null
†† 
)
†† 
return
°° 
RedirectToAction
°° '
(
°°' (
$str
°°( /
,
°°/ 0
$str
°°1 :
)
°°: ;
;
°°; <
if
§§ 
(
§§ 
!
§§ 
BCrypt
§§ 
.
§§ 
Net
§§ 
.
§§ 
BCrypt
§§ "
.
§§" #
Verify
§§# )
(
§§) *
currentPassword
§§* 9
,
§§9 :
user
§§; ?
.
§§? @
Password
§§@ H
)
§§H I
)
§§I J
{
•• 
TempData
¶¶ 
[
¶¶ 
$str
¶¶  
]
¶¶  !
=
¶¶" #
$str
¶¶$ D
;
¶¶D E
return
ßß 
RedirectToAction
ßß '
(
ßß' (
nameof
ßß( .
(
ßß. /
Profile
ßß/ 6
)
ßß6 7
)
ßß7 8
;
ßß8 9
}
®® 
if
´´ 
(
´´ 
string
´´ 
.
´´ 
IsNullOrEmpty
´´ $
(
´´$ %
newPassword
´´% 0
)
´´0 1
||
´´2 4
newPassword
´´5 @
.
´´@ A
Length
´´A G
<
´´H I
$num
´´J K
)
´´K L
{
¨¨ 
TempData
≠≠ 
[
≠≠ 
$str
≠≠  
]
≠≠  !
=
≠≠" #
$str
≠≠$ V
;
≠≠V W
return
ÆÆ 
RedirectToAction
ÆÆ '
(
ÆÆ' (
nameof
ÆÆ( .
(
ÆÆ. /
Profile
ÆÆ/ 6
)
ÆÆ6 7
)
ÆÆ7 8
;
ÆÆ8 9
}
ØØ 
if
≤≤ 
(
≤≤ 
newPassword
≤≤ 
!=
≤≤  
confirmNewPassword
≤≤ 1
)
≤≤1 2
{
≥≥ 
TempData
¥¥ 
[
¥¥ 
$str
¥¥  
]
¥¥  !
=
¥¥" #
$str
¥¥$ @
;
¥¥@ A
return
µµ 
RedirectToAction
µµ '
(
µµ' (
nameof
µµ( .
(
µµ. /
Profile
µµ/ 6
)
µµ6 7
)
µµ7 8
;
µµ8 9
}
∂∂ 
user
ππ 
.
ππ 
Password
ππ 
=
ππ 
BCrypt
ππ "
.
ππ" #
Net
ππ# &
.
ππ& '
BCrypt
ππ' -
.
ππ- .
HashPassword
ππ. :
(
ππ: ;
newPassword
ππ; F
)
ππF G
;
ππG H
await
∫∫ 
_context
∫∫ 
.
∫∫ 
SaveChangesAsync
∫∫ +
(
∫∫+ ,
)
∫∫, -
;
∫∫- .
TempData
ºº 
[
ºº 
$str
ºº 
]
ºº 
=
ºº  !
$str
ºº" B
;
ººB C
return
ΩΩ 
RedirectToAction
ΩΩ #
(
ΩΩ# $
nameof
ΩΩ$ *
(
ΩΩ* +
Profile
ΩΩ+ 2
)
ΩΩ2 3
)
ΩΩ3 4
;
ΩΩ4 5
}
ææ 	
[
¿¿ 	
HttpPost
¿¿	 
]
¿¿ 
public
¡¡ 
async
¡¡ 
Task
¡¡ 
<
¡¡ 

JsonResult
¡¡ $
>
¡¡$ %%
ResendVerificationEmail
¡¡& =
(
¡¡= >
)
¡¡> ?
{
¬¬ 	
var
√√ 
userId
√√ 
=
√√ 
int
√√ 
.
√√ 
Parse
√√ "
(
√√" #
User
√√# '
.
√√' (
	FindFirst
√√( 1
(
√√1 2

ClaimTypes
√√2 <
.
√√< =
NameIdentifier
√√= K
)
√√K L
?
√√L M
.
√√M N
Value
√√N S
??
√√T V
$str
√√W Z
)
√√Z [
;
√√[ \
var
ƒƒ 
user
ƒƒ 
=
ƒƒ 
await
ƒƒ 
_context
ƒƒ %
.
ƒƒ% &
Users
ƒƒ& +
.
ƒƒ+ ,
	FindAsync
ƒƒ, 5
(
ƒƒ5 6
userId
ƒƒ6 <
)
ƒƒ< =
;
ƒƒ= >
if
∆∆ 
(
∆∆ 
user
∆∆ 
==
∆∆ 
null
∆∆ 
)
∆∆ 
return
«« 
Json
«« 
(
«« 
new
«« 
{
««  !
success
««" )
=
««* +
false
««, 1
,
««1 2
message
««3 :
=
««; <
$str
««= M
}
««N O
)
««O P
;
««P Q
if
…… 
(
…… 
user
…… 
.
…… 
IsEmailConfirmed
…… %
)
……% &
return
   
Json
   
(
   
new
   
{
    !
success
  " )
=
  * +
false
  , 1
,
  1 2
message
  3 :
=
  ; <
$str
  = U
}
  V W
)
  W X
;
  X Y
var
ÃÃ 
result
ÃÃ 
=
ÃÃ 
await
ÃÃ 
_emailService
ÃÃ ,
.
ÃÃ, -#
SendVerificationEmail
ÃÃ- B
(
ÃÃB C
userId
ÃÃC I
)
ÃÃI J
;
ÃÃJ K
if
ŒŒ 
(
ŒŒ 
result
ŒŒ 
)
ŒŒ 
return
œœ 
Json
œœ 
(
œœ 
new
œœ 
{
œœ  !
success
œœ" )
=
œœ* +
true
œœ, 0
}
œœ1 2
)
œœ2 3
;
œœ3 4
else
–– 
return
—— 
Json
—— 
(
—— 
new
—— 
{
——  !
success
——" )
=
——* +
false
——, 1
,
——1 2
message
——3 :
=
——; <
$str
——= S
}
——T U
)
——U V
;
——V W
}
““ 	
}
”” 
}‘‘ Íá
OC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Controllers\QuizController.cs
	namespace 	

_6Memorize
 
. 
Controllers  
{ 
[ 
	Authorize 
] 
public 

class 
QuizController 
:  !

Controller" ,
{ 
private 
readonly  
ApplicationDbContext -
_context. 6
;6 7
public 
QuizController 
(  
ApplicationDbContext 2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IActionResult '
>' (
Index) .
(. /
)/ 0
{ 	
var 
userIdClaim 
= 
User "
." #
	FindFirst# ,
(, -

ClaimTypes- 7
.7 8
NameIdentifier8 F
)F G
;G H
if 
( 
userIdClaim 
== 
null #
)# $
{ 
return 
RedirectToAction '
(' (
$str( /
,/ 0
$str1 :
): ;
;; <
} 
var 
userId 
= 
int 
. 
Parse "
(" #
userIdClaim# .
.. /
Value/ 4
)4 5
;5 6
var   
user   
=   
await   
_context   %
.  % &
Users  & +
.  + ,
	FindAsync  , 5
(  5 6
userId  6 <
)  < =
;  = >
if!! 
(!! 
user!! 
==!! 
null!! 
)!! 
{"" 
return## 
RedirectToAction## '
(##' (
$str##( /
,##/ 0
$str##1 :
)##: ;
;##; <
}$$ 
var&& 
userSettings&& 
=&& 
await&& $
_context&&% -
.&&- .
UserSettings&&. :
.'' 
FirstOrDefaultAsync'' $
(''$ %
s''% &
=>''' )
s''* +
.''+ ,
UserID'', 2
==''3 5
userId''6 <
)''< =
;''= >
if)) 
()) 
userSettings)) 
==)) 
null))  $
)))$ %
{** 
userSettings++ 
=++ 
new++ "
UserSettings++# /
{,, 
UserID-- 
=-- 
userId-- #
,--# $
WordsPerQuiz..  
=..! "
$num..# %
,..% &
	ShowAudio// 
=// 
true//  $
,//$ %

ShowImages00 
=00  
true00! %
}11 
;11 
_context22 
.22 
UserSettings22 %
.22% &
Add22& )
(22) *
userSettings22* 6
)226 7
;227 8
await33 
_context33 
.33 
SaveChangesAsync33 /
(33/ 0
)330 1
;331 2
}44 
var66 
wordsPerQuiz66 
=66 
userSettings66 +
.66+ ,
WordsPerQuiz66, 8
;668 9
var99 
dueWords99 
=99 
await99  
_context99! )
.99) *
UserWordProgresses99* <
.:: 
Include:: 
(:: 
uwp:: 
=>:: 
uwp::  #
.::# $
Word::$ (
)::( )
.;; 
ThenInclude;; 
(;; 
w;; 
=>;; !
w;;" #
.;;# $
WordSamples;;$ /
);;/ 0
.<< 
Where<< 
(<< 
uwp<< 
=><< 
uwp<< !
.<<! "
UserID<<" (
==<<) +
userId<<, 2
&&<<3 5
uwp== !
.==! "
NextDueDate==" -
<===. 0
DateTime==1 9
.==9 :
UtcNow==: @
&&==A C
!>> 
uwp>> "
.>>" #
IsCompleted>># .
&&>>/ 1
uwp>>2 5
.>>5 6
CurrentStep>>6 A
>>>B C
$num>>D E
)>>E F
.?? 
OrderBy?? 
(?? 
uwp?? 
=>?? 
uwp??  #
.??# $
NextDueDate??$ /
)??/ 0
.@@ 
ToListAsync@@ 
(@@ 
)@@ 
;@@ 
ifBB 
(BB 
wordsPerQuizBB 
>BB 
$numBB  
)BB  !
{CC 
varEE 
existingWordIdsEE #
=EE$ %
awaitEE& +
_contextEE, 4
.EE4 5
UserWordProgressesEE5 G
.FF 
WhereFF 
(FF 
uwpFF 
=>FF !
uwpFF" %
.FF% &
UserIDFF& ,
==FF- /
userIdFF0 6
)FF6 7
.GG 
SelectGG 
(GG 
uwpGG 
=>GG  "
uwpGG# &
.GG& '
WordIDGG' -
)GG- .
.HH 
ToListAsyncHH  
(HH  !
)HH! "
;HH" #
varKK 
newWordsKK 
=KK 
awaitKK $
_contextKK% -
.KK- .
WordsKK. 3
.LL 
IncludeLL 
(LL 
wLL 
=>LL !
wLL" #
.LL# $
WordSamplesLL$ /
)LL/ 0
.MM 
WhereMM 
(MM 
wMM 
=>MM 
!MM  !
existingWordIdsMM! 0
.MM0 1
ContainsMM1 9
(MM9 :
wMM: ;
.MM; <
WordIDMM< B
)MMB C
)MMC D
.NN 
OrderByNN 
(NN 
wNN 
=>NN !
EFNN" $
.NN$ %
	FunctionsNN% .
.NN. /
RandomNN/ 5
(NN5 6
)NN6 7
)NN7 8
.OO 
TakeOO 
(OO 
wordsPerQuizOO &
)OO& '
.PP 
ToListAsyncPP  
(PP  !
)PP! "
;PP" #
foreachSS 
(SS 
varSS 
wordSS !
inSS" $
newWordsSS% -
)SS- .
{TT 
varUU 
progressUU  
=UU! "
newUU# &
UserWordProgressUU' 7
{VV 
UserIDWW 
=WW  
userIdWW! '
,WW' (
WordIDXX 
=XX  
wordXX! %
.XX% &
WordIDXX& ,
,XX, -
CurrentStepYY #
=YY$ %
$numYY& '
,YY' (
NextDueDateZZ #
=ZZ$ %
DateTimeZZ& .
.ZZ. /
UtcNowZZ/ 5
,ZZ5 6
IsCompleted[[ #
=[[$ %
false[[& +
,[[+ ,
LastAttemptDate\\ '
=\\( )
DateTime\\* 2
.\\2 3
UtcNow\\3 9
,\\9 :
LastAttemptSuccess]] *
=]]+ ,
false]]- 2
,]]2 3
Word^^ 
=^^ 
word^^ #
}__ 
;__ 
_context`` 
.`` 
UserWordProgresses`` /
.``/ 0
Add``0 3
(``3 4
progress``4 <
)``< =
;``= >
dueWordsaa 
.aa 
Addaa  
(aa  !
progressaa! )
)aa) *
;aa* +
}bb 
ifdd 
(dd 
newWordsdd 
.dd 
Anydd  
(dd  !
)dd! "
)dd" #
{ee 
awaitff 
_contextff "
.ff" #
SaveChangesAsyncff# 3
(ff3 4
)ff4 5
;ff5 6
}gg 
ifjj 
(jj 
dueWordsjj 
.jj 
Countjj "
<jj# $
wordsPerQuizjj% 1
)jj1 2
{kk 
varll 
additionalWordsll '
=ll( )
awaitll* /
_contextll0 8
.ll8 9
UserWordProgressesll9 K
.mm 
Includemm  
(mm  !
uwpmm! $
=>mm% '
uwpmm( +
.mm+ ,
Wordmm, 0
)mm0 1
.nn 
ThenIncludenn $
(nn$ %
wnn% &
=>nn' )
wnn* +
.nn+ ,
WordSamplesnn, 7
)nn7 8
.oo 
Whereoo 
(oo 
uwpoo "
=>oo# %
uwpoo& )
.oo) *
UserIDoo* 0
==oo1 3
userIdoo4 :
&&oo; =
!pp& '
uwppp' *
.pp* +
IsCompletedpp+ 6
&&pp7 9
uwpqq& )
.qq) *
CurrentStepqq* 5
==qq6 8
$numqq9 :
&&qq; =
!rr& '
dueWordsrr' /
.rr/ 0
Selectrr0 6
(rr6 7
drr7 8
=>rr9 ;
drr< =
.rr= >
IDrr> @
)rr@ A
.rrA B
ContainsrrB J
(rrJ K
uwprrK N
.rrN O
IDrrO Q
)rrQ R
)rrR S
.ss 
OrderByss  
(ss  !
uwpss! $
=>ss% '
EFss( *
.ss* +
	Functionsss+ 4
.ss4 5
Randomss5 ;
(ss; <
)ss< =
)ss= >
.tt 
Takett 
(tt 
wordsPerQuiztt *
-tt+ ,
dueWordstt- 5
.tt5 6
Counttt6 ;
)tt; <
.uu 
ToListAsyncuu $
(uu$ %
)uu% &
;uu& '
dueWordsww 
.ww 
AddRangeww %
(ww% &
additionalWordsww& 5
)ww5 6
;ww6 7
}xx 
}yy 
var|| 
random|| 
=|| 
new|| 
Random|| #
(||# $
)||$ %
;||% &
dueWords}} 
=}} 
dueWords}} 
.}}  
OrderBy}}  '
(}}' (
x}}( )
=>}}* ,
random}}- 3
.}}3 4
Next}}4 8
(}}8 9
)}}9 :
)}}: ;
.}}; <
ToList}}< B
(}}B C
)}}C D
;}}D E
var
ÄÄ 
wordProgressIds
ÄÄ 
=
ÄÄ  !
dueWords
ÄÄ" *
.
ÄÄ* +
Select
ÄÄ+ 1
(
ÄÄ1 2
w
ÄÄ2 3
=>
ÄÄ4 6
w
ÄÄ7 8
.
ÄÄ8 9
ID
ÄÄ9 ;
)
ÄÄ; <
.
ÄÄ< =
ToList
ÄÄ= C
(
ÄÄC D
)
ÄÄD E
;
ÄÄE F
ViewBag
ÇÇ 
.
ÇÇ 
UserSettings
ÇÇ  
=
ÇÇ! "
userSettings
ÇÇ# /
;
ÇÇ/ 0
return
ÑÑ 
View
ÑÑ 
(
ÑÑ 
wordProgressIds
ÑÑ '
)
ÑÑ' (
;
ÑÑ( )
}
ÖÖ 	
[
áá 	
HttpPost
áá	 
]
áá 
public
àà 
async
àà 
Task
àà 
<
àà 
IActionResult
àà '
>
àà' (
GetWordProcess
àà) 7
(
àà7 8
int
àà8 ;
id
àà< >
)
àà> ?
{
ââ 	
var
ää 
process
ää 
=
ää 
await
ää 
_context
ää  (
.
ää( ) 
UserWordProgresses
ää) ;
.
ãã 
Include
ãã 
(
ãã 
uwp
ãã 
=>
ãã 
uwp
ãã  #
.
ãã# $
Word
ãã$ (
)
ãã( )
.
åå 
ThenInclude
åå 
(
åå 
w
åå 
=>
åå !
w
åå" #
.
åå# $
WordSamples
åå$ /
)
åå/ 0
.
çç !
FirstOrDefaultAsync
çç $
(
çç$ %
uwp
çç% (
=>
çç) +
uwp
çç, /
.
çç/ 0
ID
çç0 2
==
çç3 5
id
çç6 8
)
çç8 9
;
çç9 :
if
èè 
(
èè 
process
èè 
==
èè 
null
èè 
)
èè  
{
êê 
return
ëë 
Json
ëë 
(
ëë 
new
ëë 
{
ëë  !
success
ëë" )
=
ëë* +
false
ëë, 1
}
ëë2 3
)
ëë3 4
;
ëë4 5
}
íí 
return
îî 
Json
îî 
(
îî 
new
îî 
{
ïï 
success
ññ 
=
ññ 
true
ññ 
,
ññ 
userId
óó 
=
óó 
process
óó  
.
óó  !
UserID
óó! '
,
óó' (
wordId
òò 
=
òò 
process
òò  
.
òò  !
WordID
òò! '
,
òò' (
engWordName
ôô 
=
ôô 
process
ôô %
.
ôô% &
Word
ôô& *
.
ôô* +
EngWordName
ôô+ 6
,
ôô6 7
turWordName
öö 
=
öö 
process
öö %
.
öö% &
Word
öö& *
.
öö* +
TurWordName
öö+ 6
,
öö6 7
picturePath
õõ 
=
õõ 
process
õõ %
.
õõ% &
Word
õõ& *
.
õõ* +
PicturePath
õõ+ 6
,
õõ6 7
category
úú 
=
úú 
process
úú "
.
úú" #
Word
úú# '
.
úú' (
Category
úú( 0
,
úú0 1
	audioPath
ùù 
=
ùù 
process
ùù #
.
ùù# $
Word
ùù$ (
.
ùù( )
	AudioPath
ùù) 2
,
ùù2 3
	createdAt
ûû 
=
ûû 
process
ûû #
.
ûû# $
Word
ûû$ (
.
ûû( )
	CreatedAt
ûû) 2
,
ûû2 3
currentStep
üü 
=
üü 
process
üü %
.
üü% &
CurrentStep
üü& 1
,
üü1 2
nextDueDate
†† 
=
†† 
process
†† %
.
††% &
NextDueDate
††& 1
,
††1 2
isCompleted
°° 
=
°° 
process
°° %
.
°°% &
IsCompleted
°°& 1
,
°°1 2
lastAttemptDate
¢¢ 
=
¢¢  !
process
¢¢" )
.
¢¢) *
LastAttemptDate
¢¢* 9
,
¢¢9 : 
lastAttemptSuccess
££ "
=
££# $
process
££% ,
.
££, - 
LastAttemptSuccess
££- ?
,
££? @
samples
§§ 
=
§§ 
process
§§ !
.
§§! "
Word
§§" &
.
§§& '
WordSamples
§§' 2
.
§§2 3
Select
§§3 9
(
§§9 :
ws
§§: <
=>
§§= ?
ws
§§@ B
.
§§B C
Sample
§§C I
)
§§I J
.
§§J K
ToList
§§K Q
(
§§Q R
)
§§R S
}
•• 
)
•• 
;
•• 
}
¶¶ 	
[
®® 	
HttpPost
®®	 
]
®® 
public
©© 
async
©© 
Task
©© 
<
©© 
IActionResult
©© '
>
©©' (
SubmitAnswer
©©) 5
(
©©5 6
int
©©6 9
wordId
©©: @
,
©©@ A
string
©©B H
answer
©©I O
)
©©O P
{
™™ 	
try
´´ 
{
¨¨ 
var
≠≠ 
userIdClaim
≠≠ 
=
≠≠  !
User
≠≠" &
.
≠≠& '
	FindFirst
≠≠' 0
(
≠≠0 1

ClaimTypes
≠≠1 ;
.
≠≠; <
NameIdentifier
≠≠< J
)
≠≠J K
;
≠≠K L
if
ÆÆ 
(
ÆÆ 
userIdClaim
ÆÆ 
==
ÆÆ  "
null
ÆÆ# '
)
ÆÆ' (
{
ØØ 
return
∞∞ 
Json
∞∞ 
(
∞∞  
new
∞∞  #
{
∞∞$ %
success
∞∞& -
=
∞∞. /
false
∞∞0 5
,
∞∞5 6
message
∞∞7 >
=
∞∞? @
$str
∞∞A Y
}
∞∞Z [
)
∞∞[ \
;
∞∞\ ]
}
±± 
var
≥≥ 
userId
≥≥ 
=
≥≥ 
int
≥≥  
.
≥≥  !
Parse
≥≥! &
(
≥≥& '
userIdClaim
≥≥' 2
.
≥≥2 3
Value
≥≥3 8
)
≥≥8 9
;
≥≥9 :
var
∂∂ 
word
∂∂ 
=
∂∂ 
await
∂∂  
_context
∂∂! )
.
∂∂) *
Words
∂∂* /
.
∂∂/ 0!
FirstOrDefaultAsync
∂∂0 C
(
∂∂C D
w
∂∂D E
=>
∂∂F H
w
∂∂I J
.
∂∂J K
WordID
∂∂K Q
==
∂∂R T
wordId
∂∂U [
)
∂∂[ \
;
∂∂\ ]
if
∑∑ 
(
∑∑ 
word
∑∑ 
==
∑∑ 
null
∑∑  
)
∑∑  !
{
∏∏ 
return
ππ 
Json
ππ 
(
ππ  
new
ππ  #
{
ππ$ %
success
ππ& -
=
ππ. /
false
ππ0 5
,
ππ5 6
message
ππ7 >
=
ππ? @
$str
ππA Q
}
ππR S
)
ππS T
;
ππT U
}
∫∫ 
var
ºº 
progress
ºº 
=
ºº 
await
ºº $
_context
ºº% -
.
ºº- . 
UserWordProgresses
ºº. @
.
ΩΩ 
Include
ΩΩ 
(
ΩΩ 
uwp
ΩΩ  
=>
ΩΩ! #
uwp
ΩΩ$ '
.
ΩΩ' (
Word
ΩΩ( ,
)
ΩΩ, -
.
ææ !
FirstOrDefaultAsync
ææ (
(
ææ( )
uwp
ææ) ,
=>
ææ- /
uwp
ææ0 3
.
ææ3 4
UserID
ææ4 :
==
ææ; =
userId
ææ> D
&&
ææE G
uwp
ææH K
.
ææK L
WordID
ææL R
==
ææS U
wordId
ææV \
)
ææ\ ]
;
ææ] ^
if
¿¿ 
(
¿¿ 
progress
¿¿ 
==
¿¿ 
null
¿¿  $
)
¿¿$ %
{
¡¡ 
return
¬¬ 
Json
¬¬ 
(
¬¬  
new
¬¬  #
{
¬¬$ %
success
¬¬& -
=
¬¬. /
false
¬¬0 5
,
¬¬5 6
message
¬¬7 >
=
¬¬? @
$str
¬¬A Z
}
¬¬[ \
)
¬¬\ ]
;
¬¬] ^
}
√√ 
if
≈≈ 
(
≈≈ 
!
≈≈ 
String
≈≈ 
.
≈≈ 
IsNullOrEmpty
≈≈ )
(
≈≈) *
answer
≈≈* 0
)
≈≈0 1
)
≈≈1 2
{
∆∆ 
var
«« 
	isCorrect
«« !
=
««" #
answer
««$ *
.
««* +
Trim
««+ /
(
««/ 0
)
««0 1
.
««1 2
Equals
««2 8
(
««8 9
progress
««9 A
.
««A B
Word
««B F
.
««F G
TurWordName
««G R
,
««R S
StringComparison
««T d
.
««d e
OrdinalIgnoreCase
««e v
)
««v w
;
««w x
progress
»» 
.
»» 
LastAttemptDate
»» ,
=
»»- .
DateTime
»»/ 7
.
»»7 8
UtcNow
»»8 >
;
»»> ?
progress
…… 
.
……  
LastAttemptSuccess
…… /
=
……0 1
	isCorrect
……2 ;
;
……; <
if
ÀÀ 
(
ÀÀ 
	isCorrect
ÀÀ !
)
ÀÀ! "
{
ÃÃ 
progress
ÕÕ  
.
ÕÕ  !
CurrentStep
ÕÕ! ,
++
ÕÕ, .
;
ÕÕ. /
if
ŒŒ 
(
ŒŒ 
progress
ŒŒ $
.
ŒŒ$ %
CurrentStep
ŒŒ% 0
>=
ŒŒ1 3
$num
ŒŒ4 5
)
ŒŒ5 6
{
œœ 
progress
–– $
.
––$ %
IsCompleted
––% 0
=
––1 2
true
––3 7
;
––7 8
}
—— 
else
““ 
{
”” 
progress
‘‘ $
.
‘‘$ %
NextDueDate
‘‘% 0
=
‘‘1 2"
CalculateNextDueDate
‘‘3 G
(
‘‘G H
progress
‘‘H P
.
‘‘P Q
CurrentStep
‘‘Q \
)
‘‘\ ]
;
‘‘] ^
}
’’ 
}
÷÷ 
else
◊◊ 
{
ÿÿ 
progress
ŸŸ  
.
ŸŸ  !
CurrentStep
ŸŸ! ,
=
ŸŸ- .
$num
ŸŸ/ 0
;
ŸŸ0 1
progress
⁄⁄  
.
⁄⁄  !
NextDueDate
⁄⁄! ,
=
⁄⁄- .
DateTime
⁄⁄/ 7
.
⁄⁄7 8
UtcNow
⁄⁄8 >
.
⁄⁄> ?
AddDays
⁄⁄? F
(
⁄⁄F G
$num
⁄⁄G H
)
⁄⁄H I
;
⁄⁄I J
}
€€ 
await
›› 
_context
›› "
.
››" #
SaveChangesAsync
››# 3
(
››3 4
)
››4 5
;
››5 6
return
ﬁﬁ 
Json
ﬁﬁ 
(
ﬁﬁ  
new
ﬁﬁ  #
{
ﬂﬂ 
success
‡‡ 
=
‡‡  !
	isCorrect
‡‡" +
,
‡‡+ ,
nextDueDate
·· #
=
··$ %
progress
··& .
.
··. /
NextDueDate
··/ :
,
··: ;
isCompleted
‚‚ #
=
‚‚$ %
progress
‚‚& .
.
‚‚. /
IsCompleted
‚‚/ :
,
‚‚: ;
currentStep
„„ #
=
„„$ %
progress
„„& .
.
„„. /
CurrentStep
„„/ :
,
„„: ;
correctAnswer
‰‰ %
=
‰‰& '
progress
‰‰( 0
.
‰‰0 1
Word
‰‰1 5
.
‰‰5 6
TurWordName
‰‰6 A
}
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÊÊ 
return
ËË 
Json
ËË 
(
ËË 
new
ËË 
{
ËË  !
success
ËË" )
=
ËË* +
false
ËË, 1
,
ËË1 2
message
ËË3 :
=
ËË; <
$str
ËË= P
,
ËËP Q
correctAnswer
ËËR _
=
ËË` a
progress
ËËb j
.
ËËj k
Word
ËËk o
.
ËËo p
TurWordName
ËËp {
}
ËË| }
)
ËË} ~
;
ËË~ 
}
ÈÈ 
catch
ÍÍ 
(
ÍÍ 
	Exception
ÍÍ 
ex
ÍÍ 
)
ÍÍ  
{
ÎÎ 
return
ÌÌ 
Json
ÌÌ 
(
ÌÌ 
new
ÌÌ 
{
ÌÌ  !
success
ÌÌ" )
=
ÌÌ* +
false
ÌÌ, 1
,
ÌÌ1 2
message
ÌÌ3 :
=
ÌÌ; <
$str
ÌÌ= P
}
ÌÌQ R
)
ÌÌR S
;
ÌÌS T
}
ÓÓ 
}
ÔÔ 	
private
ÒÒ 
DateTime
ÒÒ "
CalculateNextDueDate
ÒÒ -
(
ÒÒ- .
int
ÒÒ. 1
currentStep
ÒÒ2 =
)
ÒÒ= >
{
ÚÚ 	
return
ÛÛ 
currentStep
ÛÛ 
switch
ÛÛ %
{
ÙÙ 
$num
ıı 
=>
ıı 
DateTime
ıı 
.
ıı 
UtcNow
ıı $
,
ıı$ %
$num
ˆˆ 
=>
ˆˆ 
DateTime
ˆˆ 
.
ˆˆ 
UtcNow
ˆˆ $
.
ˆˆ$ %
AddDays
ˆˆ% ,
(
ˆˆ, -
$num
ˆˆ- .
)
ˆˆ. /
,
ˆˆ/ 0
$num
˜˜ 
=>
˜˜ 
DateTime
˜˜ 
.
˜˜ 
UtcNow
˜˜ $
.
˜˜$ %
AddDays
˜˜% ,
(
˜˜, -
$num
˜˜- .
)
˜˜. /
,
˜˜/ 0
$num
¯¯ 
=>
¯¯ 
DateTime
¯¯ 
.
¯¯ 
UtcNow
¯¯ $
.
¯¯$ %
AddDays
¯¯% ,
(
¯¯, -
$num
¯¯- /
)
¯¯/ 0
,
¯¯0 1
$num
˘˘ 
=>
˘˘ 
DateTime
˘˘ 
.
˘˘ 
UtcNow
˘˘ $
.
˘˘$ %
AddDays
˘˘% ,
(
˘˘, -
$num
˘˘- /
)
˘˘/ 0
,
˘˘0 1
$num
˙˙ 
=>
˙˙ 
DateTime
˙˙ 
.
˙˙ 
UtcNow
˙˙ $
.
˙˙$ %
AddDays
˙˙% ,
(
˙˙, -
$num
˙˙- 0
)
˙˙0 1
,
˙˙1 2
$num
˚˚ 
=>
˚˚ 
DateTime
˚˚ 
.
˚˚ 
UtcNow
˚˚ $
.
˚˚$ %
AddDays
˚˚% ,
(
˚˚, -
$num
˚˚- 0
)
˚˚0 1
,
˚˚1 2
_
¸¸ 
=>
¸¸ 
DateTime
¸¸ 
.
¸¸ 
UtcNow
¸¸ $
}
˝˝ 
;
˝˝ 
}
˛˛ 	
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' (
Progress
ÄÄ) 1
(
ÄÄ1 2
)
ÄÄ2 3
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
var
ÑÑ 
userIdClaim
ÑÑ 
=
ÑÑ  !
User
ÑÑ" &
.
ÑÑ& '
	FindFirst
ÑÑ' 0
(
ÑÑ0 1

ClaimTypes
ÑÑ1 ;
.
ÑÑ; <
NameIdentifier
ÑÑ< J
)
ÑÑJ K
;
ÑÑK L
if
ÖÖ 
(
ÖÖ 
userIdClaim
ÖÖ 
==
ÖÖ  "
null
ÖÖ# '
)
ÖÖ' (
{
ÜÜ 
return
áá 
RedirectToAction
áá +
(
áá+ ,
$str
áá, 3
,
áá3 4
$str
áá5 >
)
áá> ?
;
áá? @
}
àà 
var
ää 
userId
ää 
=
ää 
int
ää  
.
ää  !
Parse
ää! &
(
ää& '
userIdClaim
ää' 2
.
ää2 3
Value
ää3 8
)
ää8 9
;
ää9 :
var
ãã 

progresses
ãã 
=
ãã  
await
ãã! &
_context
ãã' /
.
ãã/ 0 
UserWordProgresses
ãã0 B
.
åå 
Include
åå 
(
åå 
uwp
åå  
=>
åå! #
uwp
åå$ '
.
åå' (
Word
åå( ,
)
åå, -
.
çç 
Where
çç 
(
çç 
uwp
çç 
=>
çç !
uwp
çç" %
.
çç% &
UserID
çç& ,
==
çç- /
userId
çç0 6
&&
çç7 9
uwp
çç: =
.
çç= >
CurrentStep
çç> I
!=
ççJ L
$num
ççM N
)
ççN O
.
éé 
OrderByDescending
éé &
(
éé& '
uwp
éé' *
=>
éé+ -
uwp
éé. 1
.
éé1 2
LastAttemptDate
éé2 A
)
ééA B
.
èè 
ToListAsync
èè  
(
èè  !
)
èè! "
;
èè" #
if
ëë 
(
ëë 
!
ëë 

progresses
ëë 
.
ëë  
Any
ëë  #
(
ëë# $
)
ëë$ %
)
ëë% &
{
íí 
TempData
ìì 
[
ìì 
$str
ìì &
]
ìì& '
=
ìì( )
$str
ìì* n
;
ììn o
}
îî 
var
ññ 
progressViewModel
ññ %
=
ññ& '
new
ññ( +
ProgressViewModel
ññ, =
{
óó  
UserWordProgresses
òò &
=
òò' (

progresses
òò) 3
,
òò3 4

TotalWords
ôô 
=
ôô  
await
ôô! &
_context
ôô' /
.
ôô/ 0
Words
ôô0 5
.
ôô5 6

CountAsync
ôô6 @
(
ôô@ A
)
ôôA B
}
öö 
;
öö 
return
õõ 
View
õõ 
(
õõ 
progressViewModel
õõ -
)
õõ- .
;
õõ. /
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù  
{
ûû 
TempData
†† 
[
†† 
$str
††  
]
††  !
=
††" #
$str
††$ f
;
††f g
return
°° 
RedirectToAction
°° '
(
°°' (
$str
°°( /
)
°°/ 0
;
°°0 1
}
¢¢ 
}
££ 	
public
•• 
async
•• 
Task
•• 
<
•• 
IActionResult
•• '
>
••' (
PrintReport
••) 4
(
••4 5
)
••5 6
{
¶¶ 	
var
ßß 
userIdClaim
ßß 
=
ßß 
User
ßß "
.
ßß" #
	FindFirst
ßß# ,
(
ßß, -

ClaimTypes
ßß- 7
.
ßß7 8
NameIdentifier
ßß8 F
)
ßßF G
;
ßßG H
if
®® 
(
®® 
userIdClaim
®® 
==
®® 
null
®® #
)
®®# $
{
©© 
return
™™ 
RedirectToAction
™™ '
(
™™' (
$str
™™( /
,
™™/ 0
$str
™™1 :
)
™™: ;
;
™™; <
}
´´ 
var
≠≠ 
userId
≠≠ 
=
≠≠ 
int
≠≠ 
.
≠≠ 
Parse
≠≠ "
(
≠≠" #
userIdClaim
≠≠# .
.
≠≠. /
Value
≠≠/ 4
)
≠≠4 5
;
≠≠5 6
var
∞∞ 
progress
∞∞ 
=
∞∞ 
await
∞∞  
_context
∞∞! )
.
∞∞) * 
UserWordProgresses
∞∞* <
.
±± 
Include
±± 
(
±± 
uwp
±± 
=>
±± 
uwp
±±  #
.
±±# $
Word
±±$ (
)
±±( )
.
≤≤ 
Where
≤≤ 
(
≤≤ 
uwp
≤≤ 
=>
≤≤ 
uwp
≤≤ !
.
≤≤! "
UserID
≤≤" (
==
≤≤) +
userId
≤≤, 2
&&
≤≤3 5
uwp
≤≤6 9
.
≤≤9 :
CurrentStep
≤≤: E
!=
≤≤F H
$num
≤≤I J
)
≤≤J K
.
≥≥ 
OrderByDescending
≥≥ "
(
≥≥" #
uwp
≥≥# &
=>
≥≥' )
uwp
≥≥* -
.
≥≥- .
LastAttemptDate
≥≥. =
)
≥≥= >
.
¥¥ 
ToListAsync
¥¥ 
(
¥¥ 
)
¥¥ 
;
¥¥ 
int
∑∑ 

totalWords
∑∑ 
=
∑∑ 
await
∑∑ "
_context
∑∑# +
.
∑∑+ ,
Words
∑∑, 1
.
∑∑1 2

CountAsync
∑∑2 <
(
∑∑< =
)
∑∑= >
;
∑∑> ?
int
∏∏ 
completedWords
∏∏ 
=
∏∏  
progress
∏∏! )
.
∏∏) *
Count
∏∏* /
(
∏∏/ 0
m
∏∏0 1
=>
∏∏2 4
m
∏∏5 6
.
∏∏6 7
IsCompleted
∏∏7 B
)
∏∏B C
;
∏∏C D
double
ππ 
completionRate
ππ !
=
ππ" #

totalWords
ππ$ .
>
ππ/ 0
$num
ππ1 2
?
ππ3 4
(
ππ5 6
double
ππ6 <
)
ππ< =
completedWords
ππ= K
/
ππL M

totalWords
ππN X
*
ππY Z
$num
ππ[ ^
:
ππ_ `
$num
ππa b
;
ππb c
var
ºº 
categoryProgress
ºº  
=
ºº! "
await
ºº# (
_context
ºº) 1
.
ºº1 2
Words
ºº2 7
.
ΩΩ 
	GroupJoin
ΩΩ 
(
ΩΩ 
_context
ææ 
.
ææ  
UserWordProgresses
ææ /
.
ææ/ 0
Where
ææ0 5
(
ææ5 6
uwp
ææ6 9
=>
ææ: <
uwp
ææ= @
.
ææ@ A
UserID
ææA G
==
ææH J
userId
ææK Q
&&
ææR T
uwp
ææU X
.
ææX Y
CurrentStep
ææY d
>
ææe f
$num
ææg h
)
ææh i
,
ææi j
word
øø 
=>
øø 
word
øø  
.
øø  !
WordID
øø! '
,
øø' (
uwp
¿¿ 
=>
¿¿ 
uwp
¿¿ 
.
¿¿ 
WordID
¿¿ %
,
¿¿% &
(
¡¡ 
word
¡¡ 
,
¡¡ 
uwps
¡¡ 
)
¡¡  
=>
¡¡! #
new
¡¡$ '
{
¡¡( )
Word
¡¡* .
=
¡¡/ 0
word
¡¡1 5
,
¡¡5 6

Progresses
¡¡7 A
=
¡¡B C
uwps
¡¡D H
}
¡¡I J
)
¡¡J K
.
¬¬ 
GroupBy
¬¬ 
(
¬¬ 
x
¬¬ 
=>
¬¬ 
x
¬¬ 
.
¬¬  
Word
¬¬  $
.
¬¬$ %
Category
¬¬% -
)
¬¬- .
.
√√ 
Select
√√ 
(
√√ 
g
√√ 
=>
√√ 
new
√√  '
CategoryProgressViewModel
√√! :
{
ƒƒ 
Category
≈≈ 
=
≈≈ 
g
≈≈  
.
≈≈  !
Key
≈≈! $
,
≈≈$ %

TotalWords
∆∆ 
=
∆∆  
g
∆∆! "
.
∆∆" #
Count
∆∆# (
(
∆∆( )
)
∆∆) *
,
∆∆* +

KnownWords
«« 
=
««  
g
««! "
.
««" #
Sum
««# &
(
««& '
x
««' (
=>
««) +
x
««, -
.
««- .

Progresses
««. 8
.
««8 9
Count
««9 >
(
««> ?
p
««? @
=>
««A C
p
««D E
.
««E F
IsCompleted
««F Q
)
««Q R
)
««R S
,
««S T
SuccessRate
»» 
=
»»  !
g
»»" #
.
»»# $
Count
»»$ )
(
»») *
)
»»* +
>
»», -
$num
»». /
?
»»0 1
(
…… 
double
…… 
)
……  
g
……  !
.
……! "
Sum
……" %
(
……% &
x
……& '
=>
……( *
x
……+ ,
.
……, -

Progresses
……- 7
.
……7 8
Count
……8 =
(
……= >
p
……> ?
=>
……@ B
p
……C D
.
……D E
IsCompleted
……E P
)
……P Q
)
……Q R
/
……S T
g
……U V
.
……V W
Count
……W \
(
……\ ]
)
……] ^
*
……_ `
$num
……a d
:
……e f
$num
……g h
}
   
)
   
.
ÀÀ 
ToListAsync
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ 
var
ÕÕ 
model
ÕÕ 
=
ÕÕ 
new
ÕÕ %
ProgressReportViewModel
ÕÕ 3
{
ŒŒ 
UserProgress
œœ 
=
œœ 
progress
œœ '
,
œœ' (

TotalWords
–– 
=
–– 

totalWords
–– '
,
––' (
CompletedWords
—— 
=
——  
completedWords
——! /
,
——/ 0
CompletionRate
““ 
=
““  
completionRate
““! /
,
““/ 0
CategoryProgress
””  
=
””! "
categoryProgress
””# 3
}
‘‘ 
;
‘‘ 
return
÷÷ 
View
÷÷ 
(
÷÷ 
model
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 	
}
ÿÿ 
}ŸŸ Í
OC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Controllers\HomeController.cs
	namespace 	

_6Memorize
 
. 
Controllers  
{ 
public 

class 
HomeController 
:  !

Controller" ,
{ 
private		 
readonly		 
ILogger		  
<		  !
HomeController		! /
>		/ 0
_logger		1 8
;		8 9
public 
HomeController 
( 
ILogger %
<% &
HomeController& 4
>4 5
logger6 <
)< =
{ 	
_logger 
= 
logger 
; 
} 	
public 
IActionResult 
Index "
(" #
)# $
{ 	
return 
View 
( 
) 
; 
} 	
public 
IActionResult 
Privacy $
($ %
)% &
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
ResponseCache	 
( 
Duration 
=  !
$num" #
,# $
Location% -
=. /!
ResponseCacheLocation0 E
.E F
NoneF J
,J K
NoStoreL S
=T U
trueV Z
)Z [
][ \
public 
IActionResult 
Error "
(" #
)# $
{ 	
return 
View 
( 
new 
ErrorViewModel *
{+ ,
	RequestId- 6
=7 8
Activity9 A
.A B
CurrentB I
?I J
.J K
IdK M
??N P
HttpContextQ \
.\ ]
TraceIdentifier] l
}m n
)n o
;o p
} 	
} 
}   Çú
RC:\Users\Yavuz\source\repos\EnglishApp\EnglishApp\Controllers\AccountController.cs
	namespace 	

_6Memorize
 
. 
Controllers  
{ 
public 

class 
AccountController "
:# $

Controller% /
{ 
private 
readonly  
ApplicationDbContext -
_context. 6
;6 7
private 
readonly 
EmailService %
_emailService& 3
;3 4
public 
AccountController  
(  ! 
ApplicationDbContext! 5
context6 =
,= >
EmailService? K
emailServiceL X
)X Y
{ 	
_context 
= 
context 
; 
_emailService 
= 
emailService (
;( )
} 	
[ 	
HttpGet	 
] 
public 
IActionResult 
Register %
(% &
)& '
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public   
async   
Task   
<   
IActionResult   '
>  ' (
Register  ) 1
(  1 2
User  2 6
model  7 <
)  < =
{!! 	
if"" 
("" 

ModelState"" 
."" 
IsValid"" "
)""" #
{## 
if%% 
(%% 
await%% 
_context%% "
.%%" #
Users%%# (
.%%( )
AnyAsync%%) 1
(%%1 2
u%%2 3
=>%%4 6
u%%7 8
.%%8 9
UserName%%9 A
==%%B D
model%%E J
.%%J K
UserName%%K S
)%%S T
)%%T U
{&& 

ModelState'' 
.'' 
AddModelError'' ,
('', -
$str''- 7
,''7 8
$str''9 Z
)''Z [
;''[ \
return(( 
View(( 
(((  
model((  %
)((% &
;((& '
})) 
if,, 
(,, 
await,, 
_context,, "
.,," #
Users,,# (
.,,( )
AnyAsync,,) 1
(,,1 2
u,,2 3
=>,,4 6
u,,7 8
.,,8 9
Email,,9 >
==,,? A
model,,B G
.,,G H
Email,,H M
),,M N
),,N O
{-- 

ModelState.. 
... 
AddModelError.. ,
(.., -
$str..- 4
,..4 5
$str..6 Y
)..Y Z
;..Z [
return// 
View// 
(//  
model//  %
)//% &
;//& '
}00 
model33 
.33 
Password33 
=33  
BCrypt33! '
.33' (
Net33( +
.33+ ,
BCrypt33, 2
.332 3
HashPassword333 ?
(33? @
model33@ E
.33E F
Password33F N
)33N O
;33O P
model44 
.44 
	CreatedAt44 
=44  !
DateTime44" *
.44* +
UtcNow44+ 1
;441 2
model55 
.55 
IsEmailConfirmed55 &
=55' (
false55) .
;55. /
_context77 
.77 
Users77 
.77 
Add77 "
(77" #
model77# (
)77( )
;77) *
await88 
_context88 
.88 
SaveChangesAsync88 /
(88/ 0
)880 1
;881 2
var;; 
settings;; 
=;; 
new;; "
UserSettings;;# /
{<< 
UserID== 
=== 
model== "
.==" #
UserID==# )
,==) *
WordsPerQuiz>>  
=>>! "
$num>># %
}?? 
;?? 
_context@@ 
.@@ 
UserSettings@@ %
.@@% &
Add@@& )
(@@) *
settings@@* 2
)@@2 3
;@@3 4
awaitAA 
_contextAA 
.AA 
SaveChangesAsyncAA /
(AA/ 0
)AA0 1
;AA1 2
varDD 
	emailSentDD 
=DD 
awaitDD  %
_emailServiceDD& 3
.DD3 4!
SendVerificationEmailDD4 I
(DDI J
modelDDJ O
.DDO P
UserIDDDP V
)DDV W
;DDW X
ifFF 
(FF 
	emailSentFF 
)FF 
{GG 
TempDataHH 
[HH 
$strHH &
]HH& '
=HH( )
$strHH* t
;HHt u
}II 
elseJJ 
{KK 
TempDataLL 
[LL 
$strLL &
]LL& '
=LL( )
$str	LL* ß
;
LLß ®
}MM 
returnOO 
RedirectToActionOO '
(OO' (
$strOO( /
)OO/ 0
;OO0 1
}PP 
returnQQ 
ViewQQ 
(QQ 
modelQQ 
)QQ 
;QQ 
}RR 	
[TT 	
HttpGetTT	 
]TT 
publicUU 
IActionResultUU 
LoginUU "
(UU" #
)UU# $
{VV 	
returnWW 
ViewWW 
(WW 
)WW 
;WW 
}XX 	
[ZZ 	
HttpPostZZ	 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
IActionResult[[ '
>[[' (
Login[[) .
([[. /
string[[/ 5
username[[6 >
,[[> ?
string[[@ F
password[[G O
)[[O P
{\\ 	
var]] 
user]] 
=]] 
await]] 
_context]] %
.]]% &
Users]]& +
.]]+ ,
FirstOrDefaultAsync]], ?
(]]? @
u]]@ A
=>]]B D
u]]E F
.]]F G
UserName]]G O
==]]P R
username]]S [
)]][ \
;]]\ ]
if__ 
(__ 
user__ 
!=__ 
null__ 
&&__ 
BCrypt__  &
.__& '
Net__' *
.__* +
BCrypt__+ 1
.__1 2
Verify__2 8
(__8 9
password__9 A
,__A B
user__C G
.__G H
Password__H P
)__P Q
)__Q R
{`` 
varaa 
claimsaa 
=aa 
newaa  
Listaa! %
<aa% &
Claimaa& +
>aa+ ,
{bb 
newcc 
Claimcc 
(cc 

ClaimTypescc (
.cc( )
Namecc) -
,cc- .
usercc/ 3
.cc3 4
UserNamecc4 <
)cc< =
,cc= >
newdd 
Claimdd 
(dd 

ClaimTypesdd (
.dd( )
NameIdentifierdd) 7
,dd7 8
userdd9 =
.dd= >
UserIDdd> D
.ddD E
ToStringddE M
(ddM N
)ddN O
)ddO P
}ee 
;ee 
vargg 
claimsIdentitygg "
=gg# $
newgg% (
ClaimsIdentitygg) 7
(gg7 8
claimsgg8 >
,gg> ?(
CookieAuthenticationDefaultsgg@ \
.gg\ ] 
AuthenticationSchemegg] q
)ggq r
;ggr s
varhh 
authPropertieshh "
=hh# $
newhh% ($
AuthenticationPropertieshh) A
{ii 
IsPersistentjj  
=jj! "
truejj# '
,jj' (

ExpiresUtckk 
=kk  
DateTimeOffsetkk! /
.kk/ 0
UtcNowkk0 6
.kk6 7
AddDayskk7 >
(kk> ?
$numkk? @
)kk@ A
}ll 
;ll 
awaitnn 
HttpContextnn !
.nn! "
SignInAsyncnn" -
(nn- .(
CookieAuthenticationDefaultsoo 0
.oo0 1 
AuthenticationSchemeoo1 E
,ooE F
newpp 
ClaimsPrincipalpp '
(pp' (
claimsIdentitypp( 6
)pp6 7
,pp7 8
authPropertiesqq "
)qq" #
;qq# $
usertt 
.tt 
LastLoginAttt  
=tt! "
DateTimett# +
.tt+ ,
UtcNowtt, 2
;tt2 3
awaituu 
_contextuu 
.uu 
SaveChangesAsyncuu /
(uu/ 0
)uu0 1
;uu1 2
returnww 
RedirectToActionww '
(ww' (
$strww( /
,ww/ 0
$strww1 7
)ww7 8
;ww8 9
}xx 

ModelStatezz 
.zz 
AddModelErrorzz $
(zz$ %
$strzz% '
,zz' (
$strzz) G
)zzG H
;zzH I
return{{ 
View{{ 
({{ 
){{ 
;{{ 
}|| 	
[~~ 	
HttpPost~~	 
]~~ 
public 
async 
Task 
< 
IActionResult '
>' (
Logout) /
(/ 0
)0 1
{
ÄÄ 	
await
ÅÅ 
HttpContext
ÅÅ 
.
ÅÅ 
SignOutAsync
ÅÅ *
(
ÅÅ* +*
CookieAuthenticationDefaults
ÅÅ+ G
.
ÅÅG H"
AuthenticationScheme
ÅÅH \
)
ÅÅ\ ]
;
ÅÅ] ^
return
ÇÇ 
RedirectToAction
ÇÇ #
(
ÇÇ# $
$str
ÇÇ$ +
)
ÇÇ+ ,
;
ÇÇ, -
}
ÉÉ 	
[
ÖÖ 	
HttpGet
ÖÖ	 
]
ÖÖ 
public
ÜÜ 
IActionResult
ÜÜ 
ForgotPassword
ÜÜ +
(
ÜÜ+ ,
)
ÜÜ, -
{
áá 	
return
àà 
View
àà 
(
àà 
)
àà 
;
àà 
}
ââ 	
[
ãã 	
HttpPost
ãã	 
]
ãã 
public
åå 
async
åå 
Task
åå 
<
åå 
IActionResult
åå '
>
åå' (
ForgotPassword
åå) 7
(
åå7 8
string
åå8 >
email
åå? D
)
ååD E
{
çç 	
var
éé 
user
éé 
=
éé 
await
éé 
_context
éé %
.
éé% &
Users
éé& +
.
éé+ ,!
FirstOrDefaultAsync
éé, ?
(
éé? @
u
éé@ A
=>
ééB D
u
ééE F
.
ééF G
Email
ééG L
==
ééM O
email
ééP U
)
ééU V
;
ééV W
if
èè 
(
èè 
user
èè 
!=
èè 
null
èè 
)
èè 
{
êê 
await
ëë 
_emailService
ëë #
.
ëë# $"
RequestPasswordReset
ëë$ 8
(
ëë8 9
email
ëë9 >
)
ëë> ?
;
ëë? @
}
íí 
TempData
ìì 
[
ìì 
$str
ìì 
]
ìì 
=
ìì  !
$str
ìì" w
;
ììw x
return
îî 
RedirectToAction
îî #
(
îî# $
$str
îî$ +
)
îî+ ,
;
îî, -
}
ïï 	
[
óó 	
HttpGet
óó	 
]
óó 
public
òò 
async
òò 
Task
òò 
<
òò 
IActionResult
òò '
>
òò' (
ResetPassword
òò) 6
(
òò6 7
string
òò7 =
token
òò> C
)
òòC D
{
ôô 	
var
öö  
passwordResetToken
öö "
=
öö# $
await
öö% *
_context
öö+ 3
.
öö3 4!
PasswordResetTokens
öö4 G
.
ööG H!
FirstOrDefaultAsync
ööH [
(
öö[ \
t
öö\ ]
=>
öö^ `
t
ööa b
.
ööb c
Token
ööc h
==
ööi k
token
ööl q
)
ööq r
;
öör s
if
úú 
(
úú  
passwordResetToken
úú "
==
úú# %
null
úú& *
)
úú* +
{
ùù 
TempData
ûû 
[
ûû 
$str
ûû "
]
ûû" #
=
ûû$ %
$str
ûû& L
;
ûûL M
return
üü 
RedirectToAction
üü '
(
üü' (
$str
üü( /
)
üü/ 0
;
üü0 1
}
†† 
if
¢¢ 
(
¢¢  
passwordResetToken
¢¢ "
.
¢¢" #

ExpiryDate
¢¢# -
<
¢¢. /
DateTime
¢¢0 8
.
¢¢8 9
UtcNow
¢¢9 ?
)
¢¢? @
{
££ 
TempData
§§ 
[
§§ 
$str
§§ "
]
§§" #
=
§§$ %
$str
§§& I
;
§§I J
return
•• 
RedirectToAction
•• '
(
••' (
$str
••( /
)
••/ 0
;
••0 1
}
¶¶ 
var
®® 
user
®® 
=
®® 
await
®® 
_context
®® %
.
®®% &
Users
®®& +
.
®®+ ,!
FirstOrDefaultAsync
®®, ?
(
®®? @
u
®®@ A
=>
®®B D
u
®®E F
.
®®F G
UserID
®®G M
==
®®N P 
passwordResetToken
®®Q c
.
®®c d
UserId
®®d j
)
®®j k
;
®®k l
if
©© 
(
©© 
user
©© 
==
©© 
null
©© 
)
©© 
{
™™ 
TempData
´´ 
[
´´ 
$str
´´ "
]
´´" #
=
´´$ %
$str
´´& <
;
´´< =
return
¨¨ 
RedirectToAction
¨¨ '
(
¨¨' (
$str
¨¨( /
)
¨¨/ 0
;
¨¨0 1
}
≠≠ 
return
ØØ 
View
ØØ 
(
ØØ 
user
ØØ 
)
ØØ 
;
ØØ 
}
∞∞ 	
[
≤≤ 	
HttpPost
≤≤	 
]
≤≤ 
public
≥≥ 
async
≥≥ 
Task
≥≥ 
<
≥≥ 
IActionResult
≥≥ '
>
≥≥' (
ResetPassword
≥≥) 6
(
≥≥6 7
int
≥≥7 :
userId
≥≥; A
,
≥≥A B
string
≥≥C I
token
≥≥J O
,
≥≥O P
string
≥≥Q W
newPassword
≥≥X c
,
≥≥c d
string
≥≥e k
confirmPassword
≥≥l {
)
≥≥{ |
{
¥¥ 	
var
∂∂  
passwordResetToken
∂∂ "
=
∂∂# $
await
∂∂% *
_context
∂∂+ 3
.
∂∂3 4!
PasswordResetTokens
∂∂4 G
.
∂∂G H!
FirstOrDefaultAsync
∂∂H [
(
∂∂[ \
t
∂∂\ ]
=>
∂∂^ `
t
∂∂a b
.
∂∂b c
Token
∂∂c h
==
∂∂i k
token
∂∂l q
)
∂∂q r
;
∂∂r s
if
∑∑ 
(
∑∑  
passwordResetToken
∑∑ "
==
∑∑# %
null
∑∑& *
||
∑∑+ - 
passwordResetToken
∑∑. @
.
∑∑@ A
UserId
∑∑A G
!=
∑∑H J
userId
∑∑K Q
||
∑∑R T 
passwordResetToken
∑∑U g
.
∑∑g h

ExpiryDate
∑∑h r
<
∑∑s t
DateTime
∑∑u }
.
∑∑} ~
UtcNow∑∑~ Ñ
)∑∑Ñ Ö
{
∏∏ 
TempData
ππ 
[
ππ 
$str
ππ "
]
ππ" #
=
ππ$ %
$str
ππ& P
;
ππP Q
return
∫∫ 
RedirectToAction
∫∫ '
(
∫∫' (
$str
∫∫( /
)
∫∫/ 0
;
∫∫0 1
}
ªª 
if
ææ 
(
ææ 
string
ææ 
.
ææ 
IsNullOrEmpty
ææ $
(
ææ$ %
newPassword
ææ% 0
)
ææ0 1
||
ææ2 4
newPassword
ææ5 @
.
ææ@ A
Length
ææA G
<
ææH I
$num
ææJ K
)
ææK L
{
øø 
TempData
¿¿ 
[
¿¿ 
$str
¿¿  
]
¿¿  !
=
¿¿" #
$str
¿¿$ R
;
¿¿R S
var
¡¡ 
user
¡¡ 
=
¡¡ 
await
¡¡  
_context
¡¡! )
.
¡¡) *
Users
¡¡* /
.
¡¡/ 0
	FindAsync
¡¡0 9
(
¡¡9 :
userId
¡¡: @
)
¡¡@ A
;
¡¡A B
return
¬¬ 
View
¬¬ 
(
¬¬ 
user
¬¬  
)
¬¬  !
;
¬¬! "
}
√√ 
if
∆∆ 
(
∆∆ 
newPassword
∆∆ 
!=
∆∆ 
confirmPassword
∆∆ .
)
∆∆. /
{
«« 
TempData
»» 
[
»» 
$str
»»  
]
»»  !
=
»»" #
$str
»»$ <
;
»»< =
var
…… 
user
…… 
=
…… 
await
……  
_context
……! )
.
……) *
Users
……* /
.
……/ 0
	FindAsync
……0 9
(
……9 :
userId
……: @
)
……@ A
;
……A B
return
   
View
   
(
   
user
    
)
    !
;
  ! "
}
ÀÀ 
var
ŒŒ 
userToUpdate
ŒŒ 
=
ŒŒ 
await
ŒŒ $
_context
ŒŒ% -
.
ŒŒ- .
Users
ŒŒ. 3
.
ŒŒ3 4
	FindAsync
ŒŒ4 =
(
ŒŒ= >
userId
ŒŒ> D
)
ŒŒD E
;
ŒŒE F
if
œœ 
(
œœ 
userToUpdate
œœ 
==
œœ 
null
œœ  $
)
œœ$ %
{
–– 
TempData
—— 
[
—— 
$str
—— "
]
——" #
=
——$ %
$str
——& 7
;
——7 8
return
““ 
RedirectToAction
““ '
(
““' (
$str
““( /
)
““/ 0
;
““0 1
}
”” 
userToUpdate
÷÷ 
.
÷÷ 
Password
÷÷ !
=
÷÷" #
BCrypt
÷÷$ *
.
÷÷* +
Net
÷÷+ .
.
÷÷. /
BCrypt
÷÷/ 5
.
÷÷5 6
HashPassword
÷÷6 B
(
÷÷B C
newPassword
÷÷C N
)
÷÷N O
;
÷÷O P
_context
ŸŸ 
.
ŸŸ !
PasswordResetTokens
ŸŸ (
.
ŸŸ( )
Remove
ŸŸ) /
(
ŸŸ/ 0 
passwordResetToken
ŸŸ0 B
)
ŸŸB C
;
ŸŸC D
await
€€ 
_context
€€ 
.
€€ 
SaveChangesAsync
€€ +
(
€€+ ,
)
€€, -
;
€€- .
TempData
›› 
[
›› 
$str
›› 
]
›› 
=
››  !
$str
››" x
;
››x y
return
ﬁﬁ 
RedirectToAction
ﬁﬁ #
(
ﬁﬁ# $
$str
ﬁﬁ$ +
)
ﬁﬁ+ ,
;
ﬁﬁ, -
}
ﬂﬂ 	
[
·· 	
HttpGet
··	 
]
·· 
public
‚‚ 
async
‚‚ 
Task
‚‚ 
<
‚‚ 
IActionResult
‚‚ '
>
‚‚' (
VerifyEmail
‚‚) 4
(
‚‚4 5
string
‚‚5 ;
token
‚‚< A
)
‚‚A B
{
„„ 	
if
‰‰ 
(
‰‰ 
string
‰‰ 
.
‰‰ 
IsNullOrEmpty
‰‰ $
(
‰‰$ %
token
‰‰% *
)
‰‰* +
)
‰‰+ ,
{
ÂÂ 
TempData
ÊÊ 
[
ÊÊ 
$str
ÊÊ  
]
ÊÊ  !
=
ÊÊ" #
$str
ÊÊ$ A
;
ÊÊA B
return
ÁÁ 
RedirectToAction
ÁÁ '
(
ÁÁ' (
$str
ÁÁ( /
)
ÁÁ/ 0
;
ÁÁ0 1
}
ËË 
var
ÍÍ 
verified
ÍÍ 
=
ÍÍ 
await
ÍÍ  
_emailService
ÍÍ! .
.
ÍÍ. /
VerifyEmail
ÍÍ/ :
(
ÍÍ: ;
token
ÍÍ; @
)
ÍÍ@ A
;
ÍÍA B
if
ÏÏ 
(
ÏÏ 
verified
ÏÏ 
)
ÏÏ 
{
ÌÌ 
TempData
ÓÓ 
[
ÓÓ 
$str
ÓÓ "
]
ÓÓ" #
=
ÓÓ$ %
$str
ÓÓ& f
;
ÓÓf g
}
ÔÔ 
else
 
{
ÒÒ 
TempData
ÚÚ 
[
ÚÚ 
$str
ÚÚ  
]
ÚÚ  !
=
ÚÚ" #
$str
ÚÚ$ e
;
ÚÚe f
}
ÛÛ 
return
ıı 
RedirectToAction
ıı #
(
ıı# $
$str
ıı$ +
)
ıı+ ,
;
ıı, -
}
ˆˆ 	
}
˜˜ 
}¯¯ 